!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets-cdn.shimo.im/sheet/",n(n.s=640)}([,function(t,e){t.exports=shimo.sdk.sheet},function(t,e){var n=Array.isArray;t.exports=n},,function(t,e,n){(function(t,r){var o=n(76),i={function:!0,object:!0},a=i[typeof e]&&e&&!e.nodeType?e:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,u=o(a&&s&&"object"==typeof r&&r),c=o(i[typeof self]&&self),l=o(i[typeof window]&&window),f=o(i[typeof this]&&this),p=u||l!==(f&&f.window)&&l||c||f||Function("return this")();t.exports=p}).call(e,n(27)(t),n(20))},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},function(t,e,n){var r=n(75);t.exports=function(t,e){var n=t[e];return r(n)?n:void 0}},,function(t,e,n){var r=n(66),o=n(14),i=n(13);t.exports=function(t){return null!=t&&i(r(t))&&!o(t)}},function(t,e,n){var r=n(34),o=n(64),i=n(54),a=n(9),s=n(21),u=n(29);t.exports=function(t){var e=u(t);if(!e&&!a(t))return o(t);var n=i(t),c=!!n,l=n||[],f=l.length;for(var p in t)!r(t,p)||c&&("length"==p||s(p,f))||e&&"constructor"==p||l.push(p);return l}},,function(t,e,n){var r=n(6),o="[object Symbol]",i=Object.prototype.toString;t.exports=function(t){return"symbol"==typeof t||r(t)&&i.call(t)==o}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(5),o="[object Function]",i="[object GeneratorFunction]",a=Object.prototype.toString;t.exports=function(t){var e=r(t)?a.call(t):"";return e==o||e==i}},,,,,,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}},,,function(t,e,n){"use strict";var r=n(217),o=n(314),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(2),o=n(6),i="[object String]",a=Object.prototype.toString;t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&a.call(t)==i}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},,function(t,e,n){var r=n(61),o="[object Arguments]",i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=i.propertyIsEnumerable;t.exports=function(t){return r(t)&&a.call(t,"callee")&&(!u.call(t,"callee")||s.call(t)==o)}},function(t,e,n){var r=n(77),o=n(39),i=n(78),a=n(67),s=n(79),u=n(36),c=Object.prototype.toString,l=u(r),f=u(o),p=u(i),h=u(a),d=u(s);function v(t){return c.call(t)}(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=c.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):void 0;if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},,function(t,e,n){var r=n(42),o=Object.prototype.hasOwnProperty;t.exports=function(t,e){return o.call(t,e)||"object"==typeof t&&e in t&&null===r(t)}},,function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},,function(t,e,n){var r=n(7)(n(4),"Map");t.exports=r},,,function(t,e){var n=Object.getPrototypeOf;t.exports=function(t){return n(Object(t))}},,,,function(t,e){t.exports=Zepto},,,,,,function(t,e,n){var r=n(14),o=n(5),i=n(12),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return a;if(o(t)){var e=r(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):u.test(t)?a:+t}},,function(t,e,n){var r=n(65),o=n(31),i=n(2),a=n(13),s=n(28);t.exports=function(t){var e=t?t.length:void 0;return a(e)&&(i(t)||s(t)||o(t))?r(e,String):null}},,,function(t,e,n){var r=n(25),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var i=t[e];o.call(t,e)&&r(i,n)&&(void 0!==n||e in t)||(t[e]=n)}},,,,function(t,e,n){var r=n(9),o=n(6);t.exports=function(t){return o(t)&&r(t)}},,,function(t,e){var n=Object.keys;t.exports=function(t){return n(Object(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(37)("length");t.exports=r},function(t,e,n){var r=n(7)(n(4),"Set");t.exports=r},function(t,e,n){var r=n(57);t.exports=function(t,e,n,o){n||(n={});for(var i=-1,a=e.length;++i<a;){var s=e[i],u=o?o(n[s],t[s],s,n,t):t[s];r(n,s,u)}return n}},function(t,e,n){var r=n(81);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},,,,,function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,t.exports=u},function(t,e,n){var r=n(14),o=n(26),i=n(5),a=n(36),s=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=RegExp("^"+c.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!!i(t)&&(r(t)||o(t)?f:s).test(a(t))}},function(t,e){t.exports=function(t){return t&&t.Object===Object?t:null}},function(t,e,n){var r=n(7)(n(4),"DataView");t.exports=r},function(t,e,n){var r=n(7)(n(4),"Promise");t.exports=r},function(t,e,n){var r=n(7)(n(4),"WeakMap");t.exports=r},function(t,e,n){var r=n(126),o=n(69),i="Expected a function",a=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(i);return e=a(void 0===e?t.length-1:o(e),0),function(){for(var n=arguments,o=-1,i=a(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var u=Array(e+1);for(o=-1;++o<e;)u[o]=n[o];return u[e]=s,r(t,this,u)}}},function(t,e,n){var r=n(52),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(25),o=n(9),i=n(21),a=n(5);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},,,,,,,,function(t,e,n){var r=n(147),o=n(80);t.exports=function(t){return o(function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++o<i;){var u=n[o];u&&t(e,u,o,a)}return e})}},,,,,function(t,e,n){var r=n(57),o=n(68),i=n(155),a=n(9),s=n(29),u=n(10),c=Object.prototype,l=c.hasOwnProperty,f=!c.propertyIsEnumerable.call({valueOf:1},"valueOf"),p=i(function(t,e){if(f||s(e)||a(e))o(e,u(e),t);else for(var n in e)l.call(e,n)&&r(t,n,e[n])});t.exports=p},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRetina=function(){return window.devicePixelRatio>=2},e.isDingTalk=function(){return/dingtalk/i.test(n)},e.isDingtalk=function(){return!!n.match(/mobile.*dingtalk/i)},e.isDingtalkPc=function(){return/dingTalk\([^\\)]+\)/i.test(window.navigator.userAgent)},e.isWechatPc=r,e.isWechat=function(){return!!/micromessenger/.test(n)&&!r()},e.isMobile=function(){return!r()&&!!n.match(/(iphone|ipod|ipad|android|windows phone|micromessenger)/)},e.isDingtalkPcSidebar=function(){return!!document.getElementById("dingtalk-operation-wrap")},e.isIOS=o,e.isAndroid=function(){return!!/(android)/g.test(n)},e.isAndroidApp=function(){return!!/shimo-android-app/g.test(n)},e.isIE=function(){return!!window.ActiveXObject},e.isFireFox=function(){return!!navigator.userAgent.match(/firefox/i)},e.isSafari=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},e.isMac=function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},e.isWebIOS=function(){if(!window.cow.iOS&&o())return!0;return!1},e.isIphone6=function(){var t=!1;o()&&screen.height>568&&(t=!0);return t};var n=window.navigator.userAgent.toLowerCase();function r(){return!!/micromessenger.*?windowswechat/.test(n)}function o(){return!!/(ipad|iphone|ipod)/g.test(n)}},,,,,,,,,,,function(t,e,n){"use strict";var r=n(556),o=n(661),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,,,,function(t,e,n){"use strict";(function(e){var r=n(24),o=n(316),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(218):void 0!==e&&(t=n(218)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(i)}),t.exports=s}).call(e,n(180))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var t=s(p);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(550),o=n(647);e.delay=o.delay,e.uuid=function(){return r.v4().replace(/-/g,"")},e.version="0.13.6",function(t){t.NEW_CHANGE="newEditorChange",t.NEW_CHANGE_SAVED_TO_STORAGE="newEditorChangeSavedToStorage",t.NEW_CHANGE_SAVE_TO_STORAGE_FAILED="newEditorChangeSaveToStorageFailed",t.SERVER_CHANGE_APPLIED="serverChangeApplied",t.SERVER_CHANGE_PROCESSED="serverChangeProcessed",t.ACCEPT="accept",t.ACCEPT_COMMIT="acceptCommit",t.ACCEPT_FAILED="acceptFailed",t.WAITING_FOR_CAN_HANDLE_SERVER_CHANGES="waitingForCanHandleServerChanges",t.BEFORE_SEND_REQUEST="beforeSendRequest",t.SEND_REQUEST_DONE="sendRequestDone",t.SEND_REQUEST_FAILED="sendRequestFailed",t.BEFORE_APPLY_CHANGE="beforeApplyChange",t.CHANGE="change",t.CHANGES="changes",t.SAVE_STATUS_CHANGE="saveStatusChange",t.COLLABORATOR="collaborator",t.ENTER="enter",t.LEAVE="leave",t.SELECT="select",t.BROADCAST="broadcast",t.ERROR="error",t.WARNING="warning",t.NETWORK_CHANGE="networkChange"}(e.Event||(e.Event={})),e.debounce=function(t,e,n){var r;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return new Promise(function(i){var a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||i(t.apply(void 0,o))},e),a&&i(t.apply(void 0,o))})}},e.colors=["#A69ACA","#EC6E79","#F39801","#00A496","#FFD900","#674599","#83D4E7","#AF7C4F","#B8D200","#9D5B8B","#F15B1C","#41464B","#CD9F00","#47885E","#D7003B","#436EC9","#F897C7","#9C4109","#6E7A56","#83D4E7","#83609C","#F8DCDB","#E7C39C","#87B151","#9E0038","#B09FC9","#7DCFC8","#BEE7F0","#CD9F00","#CBAAC2","#F5C5C9","#CD8C28","#1A5A52","#9EB4E1","#406619","#CAB738","#F6C751","#8D699D","#613A14","#189DEC"],e.last=function(t){if(0!==t.length)return t[t.length-1]};var i=function(){return function(t,n,r){this.message="Unknown error",this.code="ERR_UNKNOWN",this.version=e.version,this.message=t,this.code=n,r&&(this.origin=r,this.stack=r.message+r.stack)}}();e.CollaborationError=i,e.ERROR={ERR_CHANGE_NOT_CONTINUOUS:"ERR_CHANGE_NOT_CONTINUOUS",ERR_ASSERTION:"ERR_ASSERTION",ERR_FN_INVOKE:"ERR_FN_INVOKE",ERR_PULL:"ERR_PULL",ERR_SENDER:"ERR_SENDER",ERR_APPLY_CHANGE:"ERR_APPLY_CHANGE",ERR_STORAGE_SET:"ERR_STORAGE_SET",ERR_PULL_4XX:"ERR_PULL_4XX"},e.noop=function(){},e.setReadonly=function(t){"function"==typeof t.disable&&t.disable(),"function"==typeof t.updateOptions&&t.updateOptions({editable:!1})},e.setEditable=function(t){"function"==typeof t.enable&&t.enable(),"function"==typeof t.updateOptions&&t.updateOptions({editable:!0})}},,,,,,,,,,,,function(t,e,n){(function(t){var r=n(240),o=n(4),i={function:!0,object:!0},a=i[typeof e]&&e&&!e.nodeType?e:void 0,s=i[typeof t]&&t&&!t.nodeType?t:void 0,u=(s&&s.exports===a?a:void 0)?o.Buffer:void 0,c=u?function(t){return t instanceof u}:r(!1);t.exports=c}).call(e,n(27)(t))},,function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){var r=function(t){return t&&t.__esModule?t:{default:t}}(n(216));var o="";function i(){return window&&window.cow&&window.cow.currentUser&&window.cow.currentUser.id}t.exports=function(t,e,n,a,s){if(o&&"Script error."!==t&&s){var u={msg:t,url:window.location.href,error_name:s.name,error_message:s.message,error_stack:s.stack,error_file:e,tag:function(){var t="",e=window&&window.cow&&window.cow.currentFile&&window.cow.currentFile.type;t=e?-3===e||"sheet"===e?"RICHDOC":"MODOC":"NONE";return"SDK_SHEET_ERR_"+t}(),seq:window&&window.usingNewSeq?"SHEET_NEW_SEQ":"SHEET_OLD_SEQ",user_type:i()<0?"ANONYMOUS_USER":"NORMAL_USER",user_id:i(),user_agent:window.navigator.userAgent},c=JSON.stringify(u);window._lastJSErrorString!==c&&r.default.post(o,u),window._lastJSErrorString=c}},t.exports.setTrackUrl=function(t){o=t}},function(t,e,n){t.exports=n(313)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(24),o=n(317),i=n(319),a=n(320),s=n(321),u=n(219);t.exports=function(t){return new Promise(function(e,c){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,c,r),p=null}},p.onerror=function(){c(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n(322),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(t,e,n){"use strict";var r=n(318);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,u=s.hasOwnProperty,c=s.toString,l=s.propertyIsEnumerable,f=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),p=Math.max,h=!l.call({valueOf:1},"valueOf");function d(t,e){var n=b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&w(t)}(t)&&u.call(t,"callee")&&(!l.call(t,"callee")||c.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!u.call(t,a)||i&&("length"==a||y(a,o))||n.push(a);return n}function v(t,e,n){var r=t[e];u.call(t,e)&&m(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function g(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||s)}function m(t,e){return t===e||t!=t&&e!=e}var b=Array.isArray;function w(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=_(t)?c.call(t):"";return e==o||e==i}(t)}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var E=function(t){return function(t,e){return e=p(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=p(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,e,n){if(!_(n))return!1;var r=typeof e;return!!("number"==r?w(n)&&y(e,n.length):"string"==r&&e in n)&&m(n[e],t)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e})}(function(t,e){if(h||g(e)||w(e))!function(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;v(n,a,void 0===s?t[a]:s)}}(e,function(t){return w(t)?d(t):function(t){if(!g(t))return f(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)u.call(e,n)&&v(t,n,e[n])});t.exports=E},,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return function(){return t}}},,,,,function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l="[object Arguments]",f="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",v="[object Function]",y="[object GeneratorFunction]",g="[object Map]",m="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",E="[object String]",C="[object Symbol]",O="[object ArrayBuffer]",S="[object DataView]",A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,T=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,j=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[l]=N[f]=N[O]=N[p]=N[S]=N[h]=N[d]=N[v]=N[g]=N[m]=N[b]=N[w]=N[_]=N[E]=N["[object WeakMap]"]=!1;var P="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,F=P||D||Function("return this")(),L="object"==typeof e&&e&&!e.nodeType&&e,M=L&&"object"==typeof n&&n&&!n.nodeType&&n,H=M&&M.exports===L&&P.process,U=function(){try{return H&&H.binding("util")}catch(t){}}(),G=U&&U.isTypedArray;function B(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function $(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function V(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var z=Array.prototype,Y=Function.prototype,K=Object.prototype,X=F["__core-js_shared__"],Q=function(){var t=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Z=Y.toString,tt=K.hasOwnProperty,et=K.toString,nt=RegExp("^"+Z.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=F.Symbol,ot=F.Uint8Array,it=K.propertyIsEnumerable,at=z.splice,st=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),ut=Ut(F,"DataView"),ct=Ut(F,"Map"),lt=Ut(F,"Promise"),ft=Ut(F,"Set"),pt=Ut(F,"WeakMap"),ht=Ut(Object,"create"),dt=zt(ut),vt=zt(ct),yt=zt(lt),gt=zt(ft),mt=zt(pt),bt=rt?rt.prototype:void 0,wt=bt?bt.valueOf:void 0,_t=bt?bt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.__data__=new Ot;++e<n;)this.add(t[e])}function At(t){this.__data__=new Ct(t)}function kt(t,e){var n=Qt(t)||Xt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!tt.call(t,i)||o&&("length"==i||Bt(i,r))||n.push(i);return n}function Tt(t,e){for(var n=t.length;n--;)if(Kt(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=ht?ht(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(ht){var n=e[t];return n===i?void 0:n}return tt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return ht?void 0!==e[t]:tt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=ht&&void 0===e?i:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,n=Tt(e,t);return!(n<0||(n==e.length-1?e.pop():at.call(e,n,1),0))},Ct.prototype.get=function(t){var e=this.__data__,n=Tt(e,t);return n<0?void 0:e[n][1]},Ct.prototype.has=function(t){return Tt(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var n=this.__data__,r=Tt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Ot.prototype.clear=function(){this.__data__={hash:new Et,map:new(ct||Ct),string:new Et}},Ot.prototype.delete=function(t){return Ht(this,t).delete(t)},Ot.prototype.get=function(t){return Ht(this,t).get(t)},Ot.prototype.has=function(t){return Ht(this,t).has(t)},Ot.prototype.set=function(t,e){return Ht(this,t).set(t,e),this},St.prototype.add=St.prototype.push=function(t){return this.__data__.set(t,i),this},St.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new Ct},At.prototype.delete=function(t){return this.__data__.delete(t)},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ct){var o=n.__data__;if(!ct||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new Ot(o)}return n.set(t,e),this};var xt=function(t,e){return function(n,r){if(null==n)return n;if(!Zt(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(function(t,e){return t&&Rt(t,e,ae)}),Rt=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}();function jt(t,e){for(var n=0,r=(e=$t(e,t)?[e]:Lt(e)).length;null!=t&&n<r;)t=t[Jt(e[n++])];return n&&n==r?t:void 0}function It(t,e){return null!=t&&e in Object(t)}function Nt(t,e,n,r,o){return t===e||(null==t||null==e||!ne(t)&&!re(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var u=Qt(t),c=Qt(e),v=f,y=f;u||(v=(v=Gt(t))==l?b:v);c||(y=(y=Gt(e))==l?b:y);var A=v==b&&!q(t),k=y==b&&!q(e),T=v==y;if(T&&!A)return i||(i=new At),u||ie(t)?Mt(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!r(new ot(t),new ot(e)));case p:case h:case m:return Kt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case E:return t==e+"";case g:var c=W;case _:var l=i&s;if(c||(c=J),t.size!=e.size&&!l)return!1;var f=u.get(t);if(f)return f==e;i|=a,u.set(t,e);var v=Mt(c(t),c(e),r,o,i,u);return u.delete(t),v;case C:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,v,n,r,o,i);if(!(o&s)){var x=A&&tt.call(t,"__wrapped__"),R=k&&tt.call(e,"__wrapped__");if(x||R){var j=x?t.value():t,I=R?e.value():e;return i||(i=new At),n(j,I,r,o,i)}}if(!T)return!1;return i||(i=new At),function(t,e,n,r,o,i){var a=o&s,u=ae(t),c=u.length,l=ae(e).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var p=u[f];if(!(a?p in e:tt.call(e,p)))return!1}var h=i.get(t);if(h&&i.get(e))return h==e;var d=!0;i.set(t,e),i.set(e,t);for(var v=a;++f<c;){p=u[f];var y=t[p],g=e[p];if(r)var m=a?r(g,y,p,e,t,i):r(y,g,p,t,e,i);if(!(void 0===m?y===g||n(y,g,r,o,i):m)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return i.delete(t),i.delete(e),d}(t,e,n,r,o,i)}(t,e,Nt,n,r,o))}function Pt(t){return!(!ne(t)||function(t){return!!Q&&Q in t}(t))&&(te(t)||q(t)?nt:j).test(zt(t))}function Dt(t){return"function"==typeof t?t:null==t?se:"object"==typeof t?Qt(t)?function(t,e){if($t(t)&&Vt(e))return qt(Jt(t),e);return function(n){var r=function(t,e,n){var r=null==t?void 0:jt(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){var r,o=-1,i=(e=$t(e,t)?[e]:Lt(e)).length;for(;++o<i;){var a=Jt(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;return!!(i=t?t.length:0)&&ee(i)&&Bt(a,i)&&(Qt(t)||Xt(t))}(t,e,It)}(n,t):Nt(e,r,void 0,a|s)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),n=e.length;for(;n--;){var r=e[n],o=t[r];e[n]=[r,o,Vt(o)]}return e}(t);if(1==e.length&&e[0][2])return qt(e[0][0],e[0][1]);return function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var l=(c=n[o])[0],f=t[l],p=c[1];if(u&&c[2]){if(void 0===f&&!(l in t))return!1}else{var h=new At;if(r)var d=r(f,p,l,t,e,h);if(!(void 0===d?Nt(p,f,r,a|s,h):d))return!1}}return!0}(n,t,e)}}(t):function(t){return $t(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Jt(t)):function(t){return function(e){return jt(e,t)}}(t)}(t)}function Ft(t){if(!function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||K;return t===n}(t))return st(t);var e=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lt(t){return Qt(t)?t:Wt(t)}function Mt(t,e,n,r,o,i){var u=o&s,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var f=i.get(t);if(f&&i.get(e))return f==e;var p=-1,h=!0,d=o&a?new St:void 0;for(i.set(t,e),i.set(e,t);++p<c;){var v=t[p],y=e[p];if(r)var g=u?r(y,v,p,e,t,i):r(v,y,p,t,e,i);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!$(e,function(t,e){if(!d.has(e)&&(v===t||n(v,t,r,o,i)))return d.add(e)})){h=!1;break}}else if(v!==y&&!n(v,y,r,o,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Ht(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ut(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Pt(n)?n:void 0}var Gt=function(t){return et.call(t)};function Bt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function $t(t,e){if(Qt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oe(t))||(k.test(t)||!A.test(t)||null!=e&&t in Object(e))}function Vt(t){return t==t&&!ne(t)}function qt(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(ut&&Gt(new ut(new ArrayBuffer(1)))!=S||ct&&Gt(new ct)!=g||lt&&"[object Promise]"!=Gt(lt.resolve())||ft&&Gt(new ft)!=_||pt&&"[object WeakMap]"!=Gt(new pt))&&(Gt=function(t){var e=et.call(t),n=e==b?t.constructor:void 0,r=n?zt(n):void 0;if(r)switch(r){case dt:return S;case vt:return g;case yt:return"[object Promise]";case gt:return _;case mt:return"[object WeakMap]"}return e});var Wt=Yt(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(oe(t))return _t?_t.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(t)}(t);var e=[];return T.test(t)&&e.push(""),t.replace(x,function(t,n,r,o){e.push(r?o.replace(R,"$1"):n||t)}),e});function Jt(t){if("string"==typeof t||oe(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function zt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Yt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Yt.Cache||Ot),n}function Kt(t,e){return t===e||t!=t&&e!=e}function Xt(t){return function(t){return re(t)&&Zt(t)}(t)&&tt.call(t,"callee")&&(!it.call(t,"callee")||et.call(t)==l)}Yt.Cache=Ot;var Qt=Array.isArray;function Zt(t){return null!=t&&ee(t.length)&&!te(t)}function te(t){var e=ne(t)?et.call(t):"";return e==v||e==y}function ee(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ne(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function re(t){return!!t&&"object"==typeof t}function oe(t){return"symbol"==typeof t||re(t)&&et.call(t)==C}var ie=G?function(t){return function(e){return t(e)}}(G):function(t){return re(t)&&ee(t.length)&&!!N[et.call(t)]};function ae(t){return Zt(t)?kt(t):Ft(t)}function se(t){return t}n.exports=function(t,e,n){var r=Qt(t)?B:V,o=arguments.length<3;return r(t,Dt(e),n,o,xt)}}).call(e,n(20),n(27)(t))},function(t,e,n){(function(t,n){var r=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",p="[object Number]",h="[object Object]",d="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",k="[object Uint16Array]",T="[object Uint32Array]",x=/\w*$/,R=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,I={};I[a]=I["[object Array]"]=I[m]=I[b]=I[s]=I[u]=I[w]=I[_]=I[E]=I[C]=I[O]=I[f]=I[p]=I[h]=I[d]=I[v]=I[y]=I[g]=I[S]=I[A]=I[k]=I[T]=!0,I["[object Error]"]=I[c]=I["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,P="object"==typeof self&&self&&self.Object===Object&&self,D=N||P||Function("return this")(),F="object"==typeof e&&e&&!e.nodeType&&e,L=F&&"object"==typeof n&&n&&!n.nodeType&&n,M=L&&L.exports===F;function H(t,e){return t.set(e[0],e[1]),t}function U(t,e){return t.add(e),t}function G(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function V(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var W=Array.prototype,J=Function.prototype,z=Object.prototype,Y=D["__core-js_shared__"],K=function(){var t=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),X=J.toString,Q=z.hasOwnProperty,Z=z.toString,tt=RegExp("^"+X.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=M?D.Buffer:void 0,nt=D.Symbol,rt=D.Uint8Array,ot=V(Object.getPrototypeOf,Object),it=Object.create,at=z.propertyIsEnumerable,st=W.splice,ut=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,lt=V(Object.keys,Object),ft=Ft(D,"DataView"),pt=Ft(D,"Map"),ht=Ft(D,"Promise"),dt=Ft(D,"Set"),vt=Ft(D,"WeakMap"),yt=Ft(Object,"create"),gt=Gt(ft),mt=Gt(pt),bt=Gt(ht),wt=Gt(dt),_t=Gt(vt),Et=nt?nt.prototype:void 0,Ct=Et?Et.valueOf:void 0;function Ot(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function At(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){this.__data__=new St(t)}function Tt(t,e){var n=$t(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Vt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||Z.call(t)==a)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!Q.call(t,i)||o&&("length"==i||Ht(i,r))||n.push(i);return n}function xt(t,e,n){var r=t[e];Q.call(t,e)&&Bt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Rt(t,e){for(var n=t.length;n--;)if(Bt(t[n][0],e))return n;return-1}function jt(t,e,n,r,o,i,R){var j;if(r&&(j=i?r(t,o,i,R):r(t)),void 0!==j)return j;if(!Jt(t))return t;var N=$t(t);if(N){if(j=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,j)}else{var P=Mt(t),D=P==c||P==l;if(qt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(P==h||P==a||D&&!i){if(B(t))return i?t:{};if(j=function(t){return"function"!=typeof t.constructor||Ut(t)?{}:function(t){return Jt(t)?it(t):{}}(ot(t))}(D?{}:t),!e)return function(t,e){return Pt(t,Lt(t),e)}(t,function(t,e){return t&&Pt(e,zt(e),t)}(j,t))}else{if(!I[P])return i?t:{};j=function(t,e,n,r){var o=t.constructor;switch(e){case m:return Nt(t);case s:case u:return new o(+t);case b:return function(t,e){var n=e?Nt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case w:case _:case E:case C:case O:case S:case A:case k:case T:return function(t,e){var n=e?Nt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case f:return function(t,e,n){return G(e?n($(t),!0):$(t),H,new t.constructor)}(t,r,n);case p:case y:return new o(t);case d:return function(t){var e=new t.constructor(t.source,x.exec(t));return e.lastIndex=t.lastIndex,e}(t);case v:return function(t,e,n){return G(e?n(q(t),!0):q(t),U,new t.constructor)}(t,r,n);case g:return function(t){return Ct?Object(Ct.call(t)):{}}(t)}}(t,P,jt,e)}}R||(R=new kt);var F=R.get(t);if(F)return F;if(R.set(t,j),!N)var L=n?function(t){return function(t,e,n){var r=e(t);return $t(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,zt,Lt)}(t):zt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(L||t,function(o,i){L&&(o=t[i=o]),xt(j,i,jt(o,e,n,r,i,t,R))}),j}function It(t){return!(!Jt(t)||function(t){return!!K&&K in t}(t))&&(Wt(t)||B(t)?tt:R).test(Gt(t))}function Nt(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Pt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;xt(n,a,void 0===s?t[a]:s)}return n}function Dt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}Ot.prototype.clear=function(){this.__data__=yt?yt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(yt){var n=e[t];return n===o?void 0:n}return Q.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Q.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?o:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,n=Rt(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},St.prototype.get=function(t){var e=this.__data__,n=Rt(e,t);return n<0?void 0:e[n][1]},St.prototype.has=function(t){return Rt(this.__data__,t)>-1},St.prototype.set=function(t,e){var n=this.__data__,r=Rt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Ot,map:new(pt||St),string:new Ot}},At.prototype.delete=function(t){return Dt(this,t).delete(t)},At.prototype.get=function(t){return Dt(this,t).get(t)},At.prototype.has=function(t){return Dt(this,t).has(t)},At.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},kt.prototype.clear=function(){this.__data__=new St},kt.prototype.delete=function(t){return this.__data__.delete(t)},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var o=n.__data__;if(!pt||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new At(o)}return n.set(t,e),this};var Lt=ut?V(ut,Object):function(){return[]},Mt=function(t){return Z.call(t)};function Ht(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||z)}function Gt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bt(t,e){return t===e||t!=t&&e!=e}(ft&&Mt(new ft(new ArrayBuffer(1)))!=b||pt&&Mt(new pt)!=f||ht&&"[object Promise]"!=Mt(ht.resolve())||dt&&Mt(new dt)!=v||vt&&"[object WeakMap]"!=Mt(new vt))&&(Mt=function(t){var e=Z.call(t),n=e==h?t.constructor:void 0,r=n?Gt(n):void 0;if(r)switch(r){case gt:return b;case mt:return f;case bt:return"[object Promise]";case wt:return v;case _t:return"[object WeakMap]"}return e});var $t=Array.isArray;function Vt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Wt(t)}var qt=ct||function(){return!1};function Wt(t){var e=Jt(t)?Z.call(t):"";return e==c||e==l}function Jt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function zt(t){return Vt(t)?Tt(t):function(t){if(!Ut(t))return lt(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return jt(t,!0,!0)}}).call(e,n(20),n(27)(t))},function(t,e){var n=-1,r=1,o=0;function i(t,e,c,l){if(t===e)return t?[[o,t]]:[];if(null!=c){var d=function(t,e,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,i=t.length,a=e.length;if(0===r.length&&(null===o||0===o.length)){var s=r.index,u=t.slice(0,s),c=t.slice(s),l=o?o.index:null,f=s+a-i;if((null===l||l===f)&&!(f<0||f>a)){var p=e.slice(0,f),d=e.slice(f);if(d===c){var v=Math.min(s,f),y=u.slice(0,v),g=p.slice(0,v);if(y===g){var m=u.slice(v),b=p.slice(v);return h(y,m,b,c)}}}if(null===l||l===s){var w=s,p=e.slice(0,w),d=e.slice(w);if(p===u){var _=Math.min(i-w,a-w),E=c.slice(c.length-_),C=d.slice(d.length-_);if(E===C){var m=c.slice(0,c.length-_),b=d.slice(0,d.length-_);return h(u,m,b,E)}}}}if(r.length>0&&o&&0===o.length){var y=t.slice(0,r.index),E=t.slice(r.index+r.length),v=y.length,_=E.length;if(!(a<v+_)){var g=e.slice(0,v),C=e.slice(a-_);if(y===g&&E===C){var m=t.slice(v,i-_),b=e.slice(v,a-_);return h(y,m,b,E)}}}return null}(t,e,c);if(d)return d}var v=s(t,e),y=t.substring(0,v);v=u(t=t.substring(v),e=e.substring(v));var g=t.substring(t.length-v),m=function(t,e){var c;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,p=l.indexOf(f);if(-1!==p)return c=[[r,l.substring(0,p)],[o,f],[r,l.substring(p+f.length)]],t.length>e.length&&(c[0][0]=c[2][0]=n),c;if(1===f.length)return[[n,t],[r,e]];var h=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,c=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!==(l=e.indexOf(c,l+1));){var p=s(t.substring(n),e.substring(l)),h=u(t.substring(0,n),e.substring(0,l));f.length<h+p&&(f=e.substring(l-h,l)+e.substring(l,l+p),r=t.substring(0,n-h),o=t.substring(n+p),i=e.substring(0,l-h),a=e.substring(l+p))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,c,l,f,p=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));if(!p&&!h)return null;i=h?p&&p[4].length>h[4].length?p:h:p;t.length>e.length?(a=i[0],c=i[1],l=i[2],f=i[3]):(l=i[0],f=i[1],a=i[2],c=i[3]);var d=i[4];return[a,c,l,f,d]}(t,e);if(h){var d=h[0],v=h[1],y=h[2],g=h[3],m=h[4],b=i(d,y),w=i(v,g);return b.concat([[o,m]],w)}return function(t,e){for(var o=t.length,i=e.length,s=Math.ceil((o+i)/2),u=s,c=2*s,l=new Array(c),f=new Array(c),p=0;p<c;p++)l[p]=-1,f[p]=-1;l[u+1]=0,f[u+1]=0;for(var h=o-i,d=h%2!=0,v=0,y=0,g=0,m=0,b=0;b<s;b++){for(var w=-b+v;w<=b-y;w+=2){for(var _=u+w,E=(k=w===-b||w!==b&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-w;k<o&&E<i&&t.charAt(k)===e.charAt(E);)k++,E++;if(l[_]=k,k>o)y+=2;else if(E>i)v+=2;else if(d){var C=u+h-w;if(C>=0&&C<c&&-1!==f[C]){var O=o-f[C];if(k>=O)return a(t,e,k,E)}}}for(var S=-b+g;S<=b-m;S+=2){for(var C=u+S,A=(O=S===-b||S!==b&&f[C-1]<f[C+1]?f[C+1]:f[C-1]+1)-S;O<o&&A<i&&t.charAt(o-O-1)===e.charAt(i-A-1);)O++,A++;if(f[C]=O,O>o)m+=2;else if(A>i)g+=2;else if(!d){var _=u+h-S;if(_>=0&&_<c&&-1!==l[_]){var k=l[_],E=u+k-_;if(k>=(O=o-O))return a(t,e,k,E)}}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-v),e=e.substring(0,e.length-v));return y&&m.unshift([o,y]),g&&m.push([o,g]),function t(e,i){e.push([o,""]);var a=0;var c=0;var l=0;var h="";var d="";var v;for(;a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case r:l++,d+=e[a][1],a++;break;case n:c++,h+=e[a][1],a++;break;case o:var y=a-l-c-1;if(i){if(y>=0&&p(e[y][1])){var g=e[y][1].slice(-1);if(e[y][1]=e[y][1].slice(0,-1),h=g+h,d=g+d,!e[y][1]){e.splice(y,1),a--;var m=y-1;e[m]&&e[m][0]===r&&(l++,d=e[m][1]+d,m--),e[m]&&e[m][0]===n&&(c++,h=e[m][1]+h,m--),y=m}}if(f(e[a][1])){var g=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),h+=g,d+=g}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(h.length>0||d.length>0){h.length>0&&d.length>0&&(0!==(v=s(d,h))&&(y>=0?e[y][1]+=d.substring(0,v):(e.splice(0,0,[o,d.substring(0,v)]),a++),d=d.substring(v),h=h.substring(v)),0!==(v=u(d,h))&&(e[a][1]=d.substring(d.length-v)+e[a][1],d=d.substring(0,d.length-v),h=h.substring(0,h.length-v)));var b=l+c;0===h.length&&0===d.length?(e.splice(a-b,b),a-=b):0===h.length?(e.splice(a-b,b,[r,d]),a=a-b+1):0===d.length?(e.splice(a-b,b,[n,h]),a=a-b+1):(e.splice(a-b,b,[n,h],[r,d]),a=a-b+2)}0!==a&&e[a-1][0]===o?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,l=0,c=0,h="",d=""}""===e[e.length-1][1]&&e.pop();var w=!1;a=1;for(;a<e.length-1;)e[a-1][0]===o&&e[a+1][0]===o&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),w=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),w=!0)),a++;w&&t(e,i)}(m,l),m}function a(t,e,n,r){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),u=e.substring(r),c=i(o,a),l=i(s,u);return c.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return c(t.charCodeAt(o-1))&&o--,o}function u(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return l(t.charCodeAt(t.length-o))&&o--,o}function c(t){return t>=55296&&t<=56319}function l(t){return t>=56320&&t<=57343}function f(t){return l(t.charCodeAt(0))}function p(t){return c(t.charCodeAt(t.length-1))}function h(t,e,i,a){return p(t)||f(a)?null:function(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}([[o,t],[n,e],[r,i],[o,a]])}function d(t,e,n){return i(t,e,n,!0)}d.INSERT=r,d.DELETE=n,d.EQUAL=o,t.exports=d},function(t,e,n){var r=Array.prototype.slice,o=n(249),i=n(250),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var c,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var f=o(t),p=o(e)}catch(t){return!1}if(f.length!=p.length)return!1;for(f.sort(),p.sort(),c=f.length-1;c>=0;c--)if(f[c]!=p[c])return!1;for(c=f.length-1;c>=0;c--)if(l=f[c],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function u(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e,n){(function(e){var n="Expected a function",r="__lodash_placeholder__",o=1,i=2,a=4,s=8,u=16,c=32,l=64,f=128,p=512,h=1/0,d=9007199254740991,v=1.7976931348623157e308,y=NaN,g=[["ary",f],["bind",o],["bindKey",i],["curry",s],["curryRight",u],["flip",p],["partial",c],["partialRight",l],["rearg",256]],m="[object Function]",b="[object GeneratorFunction]",w="[object Symbol]",_=/^\s+|\s+$/g,E=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,C=/\{\n\/\* \[wrapped with (.+)\] \*/,O=/,? & /,S=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,k=/^\[object .+?Constructor\]$/,T=/^0o[0-7]+$/i,x=/^(?:0|[1-9]\d*)$/,R=parseInt,j="object"==typeof e&&e&&e.Object===Object&&e,I="object"==typeof self&&self&&self.Object===Object&&self,N=j||I||Function("return this")();function P(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function D(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,F,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function F(t){return t!=t}function L(t,e){for(var n=-1,o=t.length,i=0,a=[];++n<o;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[i++]=n)}return a}var M=Function.prototype,H=Object.prototype,U=N["__core-js_shared__"],G=function(){var t=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),B=M.toString,$=H.hasOwnProperty,V=H.toString,q=RegExp("^"+B.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=Object.create,J=Math.max,z=Math.min,Y=function(){var t=nt(Object,"defineProperty"),e=nt.name;return e&&e.length>2?t:void 0}();function K(t){return!(!at(t)||function(t){return!!G&&G in t}(t))&&(function(t){var e=at(t)?V.call(t):"";return e==m||e==b}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?q:k).test(function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function X(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=function(t){return at(t)?W(t):{}}(t.prototype),r=t.apply(n,e);return at(r)?r:n}}function Q(t,e,n,r,a,c,l,h,d,v){var y=e&f,g=e&o,m=e&i,b=e&(s|u),w=e&p,_=m?void 0:X(t);return function o(){for(var i=arguments.length,s=Array(i),u=i;u--;)s[u]=arguments[u];if(b)var f=et(o),p=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}(s,f);if(r&&(s=function(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,u=e.length,c=J(i-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=e[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=t[o]);for(;c--;)l[s++]=t[o++];return l}(s,r,a,b)),c&&(s=function(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,u=-1,c=e.length,l=J(i-s,0),f=Array(l+c),p=!r;++o<l;)f[o]=t[o];for(var h=o;++u<c;)f[h+u]=e[u];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=t[o++]);return f}(s,c,l,b)),i-=p,b&&i<v){var E=L(s,f);return Z(t,e,Q,o.placeholder,n,s,E,h,d,v-i)}var C=g?n:this,O=m?C[t]:t;return i=s.length,h?s=function(t,e){for(var n=t.length,r=z(e.length,n),o=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);r--;){var i=e[r];t[r]=rt(i,n)?o[i]:void 0}return t}(s,h):w&&i>1&&s.reverse(),y&&d<i&&(s.length=d),this&&this!==N&&this instanceof o&&(O=_||X(O)),O.apply(C,s)}}function Z(t,e,n,r,u,f,p,h,d,v){var y=e&s;e|=y?c:l,(e&=~(y?l:c))&a||(e&=~(o|i));var g=n(t,e,u,y?f:void 0,y?p:void 0,y?void 0:f,y?void 0:p,h,d,v);return g.placeholder=r,ot(g,t,e)}function tt(t,e,r,a,f,p,h,d){var v=e&i;if(!v&&"function"!=typeof t)throw new TypeError(n);var y=a?a.length:0;if(y||(e&=~(c|l),a=f=void 0),h=void 0===h?h:J(ut(h),0),d=void 0===d?d:ut(d),y-=f?f.length:0,e&l){var g=a,m=f;a=f=void 0}var b=[t,e,r,a,f,g,m,p,h,d];if(t=b[0],e=b[1],r=b[2],a=b[3],f=b[4],!(d=b[9]=null==b[9]?v?0:t.length:J(b[9]-y,0))&&e&(s|u)&&(e&=~(s|u)),e&&e!=o)w=e==s||e==u?function(t,e,n){var r=X(t);return function o(){for(var i=arguments.length,a=Array(i),s=i,u=et(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==u&&a[i-1]!==u?[]:L(a,u);return(i-=c.length)<n?Z(t,e,Q,o.placeholder,void 0,a,c,void 0,void 0,n-i):P(this&&this!==N&&this instanceof o?r:t,this,a)}}(t,e,d):e!=c&&e!=(o|c)||f.length?Q.apply(void 0,b):function(t,e,n,r){var i=e&o,a=X(t);return function e(){for(var o=-1,s=arguments.length,u=-1,c=r.length,l=Array(c+s),f=this&&this!==N&&this instanceof e?a:t;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++o];return P(f,i?n:this,l)}}(t,e,r,a);else var w=function(t,e,n){var r=e&o,i=X(t);return function e(){return(this&&this!==N&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return ot(w,t,e)}function et(t){return t.placeholder}function nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return K(n)?n:void 0}function rt(t,e){return!!(e=null==e?d:e)&&("number"==typeof t||x.test(t))&&t>-1&&t%1==0&&t<e}var ot=Y?function(t,e,n){var r=e+"";return Y(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(function(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(E,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(g,function(n){var r="_."+n[0];e&n[1]&&!D(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(C);return e?e[1].split(O):[]}(r),n)))})}:function(t){return t};var it=function(t,e){return e=J(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=J(n.length-e,0),i=Array(o);++r<o;)i[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i,P(t,this,a)}}(function(t,e,n){var r=o;if(n.length){var i=L(n,et(it));r|=c}return tt(t,r,e,n,i)});function at(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function st(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&V.call(t)==w}(t))return y;if(at(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=at(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_,"");var n=A.test(t);return n||T.test(t)?R(t.slice(2),n?2:8):S.test(t)?y:+t}(t))===h||t===-h?(t<0?-1:1)*v:t==t?t:0:0===t?t:0}function ut(t){var e=st(t),n=e%1;return e==e?n?e-n:e:0}it.placeholder={},t.exports=it}).call(e,n(20))},function(t,e,n){(function(t,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",s="[object Map]",u="[object Set]",c=/^\[object .+?Constructor\]$/,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,d=h&&"object"==typeof n&&n&&!n.nodeType&&n,v=d&&d.exports===h;var y=Function.prototype,g=Object.prototype,m=p["__core-js_shared__"],b=function(){var t=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),w=y.toString,_=g.hasOwnProperty,E=g.toString,C=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=v?p.Buffer:void 0,S=g.propertyIsEnumerable,A=O?O.isBuffer:void 0,k=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),T=U(p,"DataView"),x=U(p,"Map"),R=U(p,"Promise"),j=U(p,"Set"),I=U(p,"WeakMap"),N=!S.call({valueOf:1},"valueOf"),P=B(T),D=B(x),F=B(R),L=B(j),M=B(I);function H(t){return!(!z(t)||function(t){return!!b&&b in t}(t))&&(J(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:c).test(B(t))}function U(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return H(n)?n:void 0}var G=function(t){return E.call(t)};function B(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&q(t)}(t)&&_.call(t,"callee")&&(!S.call(t,"callee")||E.call(t)==o)}(T&&"[object DataView]"!=G(new T(new ArrayBuffer(1)))||x&&G(new x)!=s||R&&"[object Promise]"!=G(R.resolve())||j&&G(new j)!=u||I&&"[object WeakMap]"!=G(new I))&&(G=function(t){var e=E.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?B(n):void 0;if(r)switch(r){case P:return"[object DataView]";case D:return s;case F:return"[object Promise]";case L:return u;case M:return"[object WeakMap]"}return e});var V=Array.isArray;function q(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!J(t)}var W=A||function(){return!1};function J(t){var e=z(t)?E.call(t):"";return e==i||e==a}function z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}n.exports=function(t){if(q(t)&&(V(t)||"string"==typeof t||"function"==typeof t.splice||W(t)||$(t)))return!t.length;var e=G(t);if(e==s||e==u)return!t.size;if(N||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||g)}(t))return!k(t).length;for(var n in t)if(_.call(t,n))return!1;return!0}}).call(e,n(20),n(27)(t))},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(246);e.clone=function(t){return"object"!=typeof t||null===t?t:o(t,function(t){if("object"==typeof t&&t&&"function"==typeof t.clone)return t.clone()})},e.freeze=function(t){return t},e.isFrozen=function(t){return!1};var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ops=e,this.index=0,this.offset=0}return r(t,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(t){t||(t=1/0);var e=this.ops[this.index];if(!e)return null;var n=this.offset,r=e.length;if(0===n&&r===t)return this.index+=1,e;t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t;var o={action:e.action,attributes:e.attributes};switch(e.action){case"remove":o.data=t;break;case"retain":if("number"==typeof e.data)o.data=t;else{if("string"==typeof e.data)throw new Error("retain with a string is not allowed");o.data=e.data}break;case"insert":"string"==typeof e.data?o.data=e.data.substr(n,t):"number"==typeof e.data?o.data=t:o.data=e.data}return e.createInstance(o)}},{key:"peekLength",value:function(){var t=this.ops[this.index];return t?t.length-this.offset:1/0}},{key:"peekAction",value:function(){var t=this.ops[this.index];return t?t.action:"retain"}}]),t}();e.OperatorIterator=i,e.parsePosition=function(t){for(var e=0,n=0,r=0;r<t.length;r++){var o=t[r].charCodeAt(0);if(o>=65&&o<=90)n=26*n+o-64;else{if(!(o>=48&&o<=57))throw new Error("Invalid cell position "+t);e=10*e+o-48}}return{row:e-1,col:n-1}},e.stringifyPosition=function(t,e){if(!(t>=0&&e>=0))throw new Error("Invalid cell position "+t+":"+e);for(var n=e+1,r="";n>0;){var o=(n-1)%26;r=String.fromCharCode(65+o)+r,n=Math.floor((n-o)/26)}return r+(t+1)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(311),o=n(312),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){var r,o,i=n(213),a=n(214),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,y=d-s+(v-u)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=v,o=p;var g=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=d/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var b=0;b<6;++b)l[c+b]=f[b];return e||a(l)}},function(t,e,n){var r=n(213),o=n(214);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e,n){"use strict";var r=n(24),o=n(217),i=n(315),a=n(179);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(221),u.CancelToken=n(328),u.isCancel=n(220),u.all=function(t){return Promise.all(t)},u.spread=n(329),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(179),o=n(24),i=n(323),a=n(324);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(219);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(24);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(24),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(24);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(24);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(24);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(24),o=n(325),i=n(220),a=n(179),s=n(326),u=n(327);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(24);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(221);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var r=n(32),o=n(31),i=n(2),a=n(9),s=n(211),u=n(14),c=n(6),l=n(28),f=n(10),p="[object Map]",h="[object Set]",d=Object.prototype,v=d.hasOwnProperty,y=!d.propertyIsEnumerable.call({valueOf:1},"valueOf");t.exports=function(t){if(a(t)&&(i(t)||l(t)||u(t.splice)||o(t)||s(t)))return!t.length;if(c(t)){var e=r(t);if(e==p||e==h)return!t.size}for(var n in t)if(v.call(t,n))return!1;return!(y&&f(t).length)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window._SHIMO_BRAODCAST_=window._SHIMO_BRAODCAST_||{};var r=window._SHIMO_BRAODCAST_.attachFunctionList=window._SHIMO_BRAODCAST_.attachFunctionList||{},o=window._SHIMO_BRAODCAST_.notifyCache=window._SHIMO_BRAODCAST_.notifyCache||{},i=function(t,e,o){if("string"==typeof t)if("function"==typeof e){for(var i=(r[t]||[]).length;i--;)if(r[t][i].fun===e){if(!0!==o)return r[t][i];r[t].splice(i,1)}}else if("object"===(void 0===e?"undefined":n(e))&&o)for(var a=(r[t]||[]).length;a--;)r[t][a].scope===e&&r[t].splice(a,1);else{if(!0!==!!e)return r[t];delete r[t]}return null},a=function(t,e,n){var a=n||{};if("string"==typeof t&&"function"==typeof e){i(t)||(r[t]=[]);var s={fun:e,scope:a.scope,isAsync:a.isAsync};i(t).push(s);var c=o[t];delete o[t],Array.isArray(c)&&!0===a.invoke&&setTimeout(function(){u(s,c)})}},s=function(t,e){if("string"==typeof t){var r=void 0===e?"undefined":n(e);"function"===r||"object"===r?i(t,e,!0):i(t,!0)}};function u(t,e){if(t.isAsync)!function(t){setTimeout(function(){t.fun.apply(t.scope,e)},0)}(t);else try{t.fun.apply(t.scope,e)}catch(t){console.error(t.stack)}}e.default={destory:function(){r=window._SHIMO_BRAODCAST_={}},on:a,off:s,attach:a,detach:s,notify:function(t){var e=i(t)||[];if(0!==e.length){var n=Array.prototype.slice.call(arguments,1);o[t]=n;for(var r=0;r<e.length;r++)u(e[r],n)}},attachOne:function(t,e,n){s(t),a(t,e,n)},BCBundle:function(t){var e=t,n=Object.keys(t);return n.forEach(function(t){return a(t,e[t])}),{detach:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?s(t,e[t]):n.forEach(function(t){return s(t,e[t])})}}}},t.exports=e.default},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.deltaConstructor=t,this.operatorConstructor=e}return t.prototype.compose=function(t,e,n){throw new Error("#compose() is not implemented")},t.prototype.transform=function(t,e,n){throw new Error("#transform() is not implemented")},t.prototype.invert=function(t,e){throw new Error("#invert() is not implemented")},t.prototype.parse=function(t){throw new Error("#parse() is not implemented")},t.prototype.pack=function(t,e){throw new Error("#pack() is not implemented")},t.prototype.toJSON=function(t){throw new Error("#toJSON() is not implemented")},t.prototype.explain=function(t,e){return""+t+e},t}();e.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(74),s=n(199),u=[].slice,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayRunTimeouts={},e}return r(e,t),e.prototype.delayRun=function(t,e){var n=this,r=t.toString(),o=this.delayRunTimeouts[r],i=u.call(arguments).slice(2);o&&clearTimeout(o),this.delayRunTimeouts[r]=setTimeout(function(){return t.apply(n,i)},e)},e.prototype.assert=function(t,e){if(!t)throw new s.CollaborationError("Assertion error",s.ERROR.ERR_ASSERTION,e)},e.prototype.superDestroy=function(){for(var t in this.delayRunTimeouts)this.delayRunTimeouts[t]&&clearTimeout(this.delayRunTimeouts[t])},e.prototype.wrapAsyncTryCatch=function(t,e){var n=this;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return o(n,void 0,void 0,function(){var n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.apply(e,r)];case 1:return o.sent(),[3,3];case 2:return n=o.sent(),this.emit(s.Event.ERROR,new s.CollaborationError("Try catch wrapper invoke error",s.ERROR.ERR_FN_INVOKE,n)),[3,3];case 3:return[2]}})})}},e}(a.EventEmitter);e.Base=c},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production",HOST:"shimodev_com",VERSION:"HEAD[aaf27131e]",BRANCH:"HEAD",COMMIT:"aaf27131e",GC_VERSION:"aaf27131e",SDK:!0}).DEBUG),t}(e=t.exports=n(649)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++o)}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(e,n(180))},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PUSHED=0]="PUSHED",t[t.MERGED=1]="MERGED",t[t.REORDERED=2]="REORDERED"}(r=e.PushResult||(e.PushResult={}));var o=function(){function t(t){void 0===t&&(t=[]),this.stringified=!1,this.ops=t}return t.prototype.push=function(t){if(this.stringified)throw new Error("Cannot push new operators to a stringified operatorList");var e=this.ops.length;if(0===e)return this.ops.push(t),r.PUSHED;var n=r.PUSHED,o=this.ops[e-1];if("remove"===o.action&&"insert"===t.action&&(e-=1,o=this.ops[e-1],n=r.REORDERED,void 0===o))return this.ops.unshift(t),n;var i=o.merge(t);return i?(this.ops[e-1]=i,n=r.MERGED):e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),n},t.prototype.stringify=function(t){void 0===t&&(t=!1),this.stringified=!0;for(var e=this.ops.length,n="",r=0;r<e;r++){var o=this.ops[r];(!t||r<e-1||!o.isEmpty())&&(n+=o.stringify())}return n},t}();e.default=o},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=[{name:"color"},{name:"background"},{name:"font-size"},{name:"width"},{name:"height"},{name:"rowspan"},{name:"colspan"},{name:"align",values:["left","center","right","justify"]},{name:"bold",values:[!1,!0]},{name:"italic",values:[!1,!0]},{name:"underline",values:[!1,!0]},{name:"vertical",values:["top","middle","bottom"]},{name:"strike",values:[!1,!0]},{name:"wrap",values:["text-wrap","text-no-wrap","text-linebreak-overflow"]},{name:"fixedRowsTop"},{name:"fixedColumnsLeft"},{name:"link"},{name:"format",values:["normal","0,0","0,0.00","0%","0.00%","0.00E+00","(0,0)","(0,0.00)","¥0,0","¥0,0.00","$0,0","$0,0.00","YYYY/MM/DD","YYYY-MM-DD","HH:mm:ss","YYYY/MM/DD HH:mm:ss","¥ (#,##0)","¥ (#,##0.00)","@","#,##0.0_);[Red](#,##0.0)","#,##0.0_);(#,##0.0)","#,##0.0;[Red]#,##0.0","#,##0.0_ ","#,##0.0_ ;[Red]-#,##0.0 ","#,##0_);[Red](#,##0)","#,##0_);(#,##0)","#,##0;[Red]#,##0","#,##0_ ","#,##0_ ;[Red]-#,##0 ","0.0_);[Red](0.0)","0.0_);(0.0)","0.0;[Red]0.0","0.0_ ","0.0_ ;[Red]-0.0 ","0_);[Red](0)","0_);(0)","0;[Red]0","0_ ","0_ ;[Red]-0 ","0.0%",'"$"#,##0.0_);[Red]("$"#,##0.0)','"¥"#,##0.0_);[Red]("¥"#,##0.0)','"$"#,##0.0_);("$"#,##0.0)','"¥"#,##0.0_);("¥"#,##0.0)','"$"#,##0.0;[Red]"$"#,##0.0','"¥"#,##0.0;[Red]"¥"#,##0.0','"$"#,##0.0','"¥"#,##0.0','"$"#,##0.0;[Red]-"$"#,##0.0','"¥"#,##0.0;[Red]-"¥"#,##0.0','"$"#,##0_);[Red]("$"#,##0)','"¥"#,##0_);[Red]("¥"#,##0)','"$"#,##0_);("$"#,##0)','"¥"#,##0_);("¥"#,##0)','"$"#,##0;[Red]"$"#,##0','"¥"#,##0;[Red]"¥"#,##0','"$"#,##0','"¥"#,##0','"$"#,##0;[Red]-"$"#,##0','"¥"#,##0;[Red]-"¥"#,##0','_("$"* #,##0.0_);_("$"* (#,##0.0);_("$"* "-"??_);_(@_)','_("¥"* #,##0.0_);_("¥"* (#,##0.0);_("¥"* "-"??_);_(@_)','_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)','_("¥"* #,##0_);_("¥"* (#,##0);_("¥"* "-"_);_(@_)',"yyyy/m/d","yyyy/mm/dd;@","yyyy-mm-dd;@","yy/mm/dd;@","yy-mm-dd;@","mm/dd;@","mm-dd;@","yyyy-m-d;@","yy/m/d;@","yy-m-d;@","m/d;@","m-d;@","m/d/yy;@","mm/dd/yy;@","d;@","dd;@",'yyyy"年"m"月"d"日" aaaa','yyyy"年"m"月"d"日";@','yyyy"年"m"月";@','m"月"d"日";@','[$-804]yyyy"年"mm"月"dd"日" aaaa;@','yyyy"年"mm"月"dd"日";@','yyyy"年"mm"月";@','mm"月"dd"日";@','m"月";@','mm"月";@','[DBNum1][$-804]m"月";@',"[$-804]aaaa;@","[$-804]aaa;@",'[DBNum1][$-804]yyyy"年"m"月"d"日";@','[DBNum1][$-804]yyyy"年"m"月";@','[DBNum1][$-804]m"月"d"日";@',"[$-409]d-mmm;@","[$-409]d-mmm-yy;@","[$-409]dd-mmm-yy;@","[$-409]mmm-yy;@","[$-409]mmmm-yy;@","[$-409]mmmmm;@","[$-409]mmmmm-yy;@","[$-409]yyyy/mm/dd h:mm AM/PM;@","yyyy/mm/dd hh:mm;@","[$-409]yyyy/m/d h:mm AM/PM;@","yyyy/m/d h:mm;@","[$-409]yyyy/mm/dd h:mm:ss AM/PM;@","yyyy/mm/dd hh:mm:ss;@","[$-409]yyyy/m/d h:mm:ss AM/PM;@","yyyy/m/d h:mm:ss;@","h:mm:ss;@","h:mm;@","AM/PM h:mm:ss",'上午/下午h"时"mm"分"ss"秒";@','上午/下午h"时"mm"分";@','[DBNum1][$-804]h"时"mm"分";@','[DBNum1][$-804]上午/下午h"时"mm"分";@',"[$-409]h:mm AM/PM;@","[$-409]h:mm:ss AM/PM;@",'h"时"mm"分";@','h"时"mm"分"ss"秒";@',"# ?/?","# ??/??","# ???/???","# ?/2","# ?/4","# ?/8","# ??/16","# ?/10","# ??/100","0.0E+00","0E+00","000000","[DBNum1][$-804]General","[DBNum2][$-804]General"]},{name:"formula"},{name:"filter"},{name:"border-top"},{name:"border-right"},{name:"border-bottom"},{name:"border-left"},{name:"line"},{name:"guid"},{name:"author"},{name:"size"},{name:"list"},{name:"layout",values:["embed","block"]},{name:"margin",values:["none","small","medium","large"]},{name:"font",values:["serif","monospace","microsoftyahei","simsun","kaiti","simhei","fangsong","droid","source","arial"]},{name:"header"},{name:"indent"},{name:"comment"},{name:"comment-block"},{name:"code-block",values:[!0]},{name:"cellValue"},{name:"precision"},{name:"autoFormatter",values:["#,##0_);[Red](#,##0)","#,##0.00_);[Red](#,##0.00)",'"¥"#,##0_);[Red]("¥"#,##0)','"¥"#,##0.00_);[Red]("¥"#,##0.00)','"$"#,##0_);[Red]("$"#,##0)','"$"#,##0.00_);[Red]("$"#,##0.00)',"0%","0.00%","# ??/??","0.00E+00","yyyy/m/d",'m"月"d"日";@','yyyy"年"m"月"d"日";@','yyyy"年"m"月";@',"[$-409]yyyy/mm/dd h:mm:ss AM/PM;@","[$-409]yyyy/mm/dd h:mm AM/PM;@","yyyy/mm/dd hh:mm:ss;@","h:mm;@","[$-409]h:mm AM/PM;@","h:mm:ss;@","[$-409]h:mm:ss AM/PM;@",'h"时"mm"分";@','h"时"mm"分"ss"秒";@','[$-804]AM/PMh"时"mm"分";@','[$-804]AM/PMh"时"mm"分"ss"秒";@',"[$-409]mmm-yy;@","h:mm:ss.0;@","[$-409]h:mm:ss.0 AM/PM;@","yyyy/mm/dd hh:mm;@","yyyy/mm/dd hh:mm:ss.0;@"]}],i=o.reduce(function(t,e,n){return e.index=n,t[e.name]=e,t},{});t.exports={pack:function(t){if("object"==typeof t&&null!==t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(void 0!==r){var o=i[n];if(o&&(n=o.index,o.values&&null!==r)){var a=o.values.indexOf(r);if(-1!==a)r=a;else if(17!==n)continue}e.push(null===r?n:n+":"+JSON.stringify("string"==typeof r?encodeURIComponent(r):r))}}return e.sort().join("|")}},unpack:function(t){if("string"!=typeof t)return{};for(var e={},n=t.split("|"),i=0;i<n.length;i++){var a=n[i].split(":"),s=r(a,2),u=s[0],c=s[1],l=o[u];if(c){var f=typeof(c=JSON.parse(c));"string"===f&&(c=decodeURIComponent(c)),l&&(u=l.name,l.values&&"number"===f&&void 0!==l.values[c]&&(c=l.values[c]))}else l&&(u=l.name),c=null;e[u]=c}return e},merge:function(t,e,n){if(n&&!t)return e;if(!e)return t;for(var r in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(r)&&(t[r]=e[r],n||null!==t[r]||delete t[r]);return this.pack(t)},invert:function(t,e){if(e){if(!t)return e.split("|").map(function(t){var e=t.indexOf(":");return-1===e?t:t.slice(0,e)}).join("|");for(var n in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(n)&&(void 0!==t[n]?e[n]=t[n]:e[n]=null);return this.pack(e)}},transform:function(t,e,n){if(n)return e;if(e){if(!t)return e;for(var r in t=this.unpack(t),e=this.unpack(e))e.hasOwnProperty(r)&&void 0!==t[r]&&delete e[r];return this.pack(e)}},diff:function(t,e){if(!t)return e;t=this.unpack(t),e&&(e=this.unpack(e));for(var n={},r=!0,o=e?Object.keys(t).concat(Object.keys(e)):Object.keys(t),i=0;i<o.length;i++){var a=o[i],s=e?e[a]:void 0;t[a]!==s&&(r=!1,n[a]=void 0===s?null:s)}return r?void 0:this.pack(n)}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(272),i=n(247),a=n(248),s=String.fromCharCode(0),u=n(399),c=n(251),l=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ops=[],Array.isArray(e)){for(var r=0;r<e.length;r++)this.pushWithMutations(e[r]);n&&this.chopWithMutations()}else"function"==typeof e&&e(this);o.freeze(this)}return r(t,[{key:"freeze",value:function(){o.freeze(this.ops)}},{key:"createCleaner",value:function(){for(var e=[],n=0;n<this.ops.length;n++){var r=this.ops[n],o=r.createInstance({action:"remove",data:r.length});e.push(o)}return new t(e)}},{key:"clone",value:function(){return new t(this.ops.map(o.clone))}},{key:"toJSON",value:function(){return this.ops}},{key:"pack",value:function(){return this.ops.map(function(t){return t.pack()})}},{key:"isDocument",value:function(){for(var t=0;t<this.ops.length;t++)if("insert"!==this.ops[t].action)return!1;return!0}},{key:"isEmpty",value:function(){return 0===this.ops.length}},{key:"_genericPush",value:function(t,e){var n=t.length,r=t[n-1];if(r&&"remove"===r.action&&"insert"===e.action&&(r=t[(n-=1)-1]),!r)return t.unshift(e),t;var o=e.merge(r);return o?t[n-1]=o:n===t.length?t.push(e):t.splice(n,0,e),t}},{key:"push",value:function(e){if(!e.length)return this;var n=this.ops.slice(0);if(Array.isArray(e)){for(var r=!1,o=0;o<e.length;o++)e[o].length&&(r=!0,n=this._genericPush(n,e[o]));if(!r)return this}else n=this._genericPush(n,e);return new t(n)}},{key:"pushWithMutations",value:function(t){return t.length&&this._genericPush(this.ops,t),this}},{key:"concat",value:function(e){var n=this;return e.ops.length?this.ops.length?new t(function(t){t.ops=n.ops.slice(),t.pushWithMutations(e.ops[0]),e.ops.length>1&&(t.ops=t.ops.concat(e.ops.slice(1)))}):e:this}},{key:"_genericChop",value:function(t){for(;t.length&&t[t.length-1].isEmpty();)t.pop();return t}},{key:"chop",value:function(){return new t(this._genericChop(this.ops.slice(0)))}},{key:"chopWithMutations",value:function(){return this._genericChop(this.ops),this}},{key:"slice",value:function(e,n){e=e||0,"number"!=typeof n&&(n=1/0);for(var r=[],o=this.getIter(),i=0;i<n&&o.hasNext();){var a=void 0;i<e?a=o.next(e-i):(a=o.next(n-i),r.push(a)),i+=a.length}return new t(r)}},{key:"getIter",value:function(){return new o.OperatorIterator(this.ops)}},{key:"validate",value:function(){for(var t={},e=0;e<this.ops.length;e++){var n=this.ops[e];if(n&&"TableOperator"===n.name()){var r=n.getAttributes().name;if(!r)continue;var o="$$"+r+"$$";if(t.hasOwnProperty(o))throw new Error("Duplicated table name found: "+r);t[o]=!0}}return this}},{key:"compose",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getIter(),o=e.getIter(),i=[];r.hasNext()||o.hasNext();)if("insert"===o.peekAction())i.push(o.next());else if("remove"===r.peekAction())i.push(r.next());else{var a=Math.min(r.peekLength(),o.peekLength()),s=r.next(a),u=o.next(a);u&&"retain"!==u.action?s&&"retain"!==s.action||i.push(u):s?u?i.push(s.compose(u,n)):i.push(s):i.push(u)}var c=new t(i,!0);return n||c.validate(),c}},{key:"composePosition",value:function(t){for(var e=this.getIter(),n=0;e.hasNext()&&n<=t;){var r=e.peekLength(),o=e.peekAction();switch(e.next(),o){case"remove":if(r>t-n)return null;t-=r;continue;case"insert":t+=r}n+=r}return t}},{key:"invert",value:function(e){for(var n=this.getIter(),r=e.getIter(),o=[];r.hasNext();)if("insert"===r.peekAction()){var i=r.next(),a=i.createInstance({action:"remove",data:i.length});o.push(a)}else{if(!n.hasNext())throw new Error(this.constructor.name+" should be smaller than document");var s=Math.min(n.peekLength(),r.peekLength()),u=n.next(s),c=r.next(s);if("insert"!==u.action)throw new Error("Only document can invert deltas");"retain"===c.action?o.push(u.invert(c)):o.push(u)}return new t(o,!0)}},{key:"invertPosition",value:function(t){for(var e=this.getIter(),n=0;e.hasNext()&&n<=t;){var r=e.peekLength(),o=e.peekAction();switch(e.next(),o){case"insert":if(r>t-n)return null;t-=r;continue;case"remove":t+=r}n+=r}return t}},{key:"transform",value:function(e,n){for(var r=this.getIter(),o=e.getIter(),i=[];o.hasNext();)if("insert"!==r.peekAction()||!n&&"insert"===o.peekAction())if("insert"===o.peekAction())i.push(o.next());else{var a=Math.min(r.peekLength(),o.peekLength()),s=r.next(a),u=o.next(a);if(s&&"remove"===s.action)continue;u&&"remove"===u.action?i.push(u):s?i.push(s.transform(u,n)):i.push(u)}else{var c=r.next();i.push(c.createInstance({action:"retain",data:c.length}))}return new t(i,!0)}},{key:"transformPosition",value:function(t,e){for(var n=this.getIter(),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekAction();switch(n.next(),i){case"remove":t-=Math.min(o,t-r);continue;case"insert":(r<t||!e)&&(t+=o)}r+=o}return t}},{key:"toString",value:function(){for(var t="",e=0;e<this.ops.length;e++){var n=this.ops[e];if("insert"!==n.action)throw new Error("toString() called on non-document");t+="string"==typeof n.data?n.data:s}return t}},{key:"diff",value:function(e,n){if(this.ops===e.ops)return new t;if(!this.ops.length){if(!e.isDocument())throw new Error("diff() called on non-document");return e}for(var r=c(this.ops[0].createInstance,this.ops[0]),o=[],s=i(this.toString(),e.toString(),n),l=this.getIter(),f=e.getIter(),p=0,h=s.length;p<h;p++)for(var d=s[p],v=d[1].length;v>0;){var y=0;switch(d[0]){case i.INSERT:y=Math.min(f.peekLength(),v),o.push(f.next(y));break;case i.DELETE:y=Math.min(v,l.peekLength()),l.next(y),o.push(r({action:"remove",data:y}));break;case i.EQUAL:y=Math.min(l.peekLength(),f.peekLength(),v);var g=l.next(y),m=f.next(y);g.skipDiff()&&m.skipDiff()&&g.name()===m.name()||a(g.data,m.data)?o.push(r({action:"retain",data:y,attributes:u.diff(g.attributes,m.attributes)})):(o.push(m),o.push(r({action:"remove",data:y})))}v-=y}return new t(o,!0)}},{key:"print",value:function(t){console[t?"group":"groupCollapsed"]("Delta["+this.length+"] with "+this.ops.length+" operators"),this.ops.forEach(function(t){return t.print()}),console.groupEnd()}},{key:"length",get:function(){for(var t=0,e=0;e<this.ops.length;e++)t+=this.ops[e].length;return t}}],[{key:"unpack",value:function(t){var e=this;return new this(t.map(function(t){return e.operatorUnpacker(t)}))}}]),t}();l.packId=5,t.exports=l},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n(400),a=n(272).clone,s=n(399),u=n(272),c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setWithMutations(e);var n="Operator"!==this.name()&&this.isGeneric()?this.toGeneric():this;return u.freeze(n),n}return o(t,[{key:"name",value:function(){return"Operator"}},{key:"skipDiff",value:function(){return!1}},{key:"isGeneric",value:function(){var t=4===this.constructor.packId;return"number"==typeof this.data&&!t}},{key:"toGeneric",value:function(){return new t({action:this.action,data:this.data,attributes:this.attributes})}},{key:"clone",value:function(){var t=this.createInstance(this);return t.data=a(t.data),t}},{key:"_genericSet",value:function(t){var e={action:this.action,data:this.data,attributes:this.attributes},n=!1,r=t.action;if(r&&r!==e.action){if(n=!0,"insert"!==r&&"retain"!==r&&"remove"!==r)throw new Error('Action "'+r+'" is invalid');e.action=r}var o=t.data;if(null!=o&&o!==e.data){if(n=!0,"remove"===e.action&&("number"!=typeof o||o<0))throw new Error("Expect the data of remove action to be a positive number, got "+o);e.data=o}if(null==e.data)throw new Error("Expect data to have a non-empty value, got "+e.data);var i=t.attributes;if(i){var a=typeof i;if("object"===a)if(Object.keys(i).length){var u=s.pack(i);u&&e.attributes!==u&&(n=!0,e.attributes=u)}else e.attributes&&(n=!0,delete e.attributes);else"string"===a&&e.attributes!==i&&(n=!0,e.attributes=i)}return{changed:n,op:e}}},{key:"set",value:function(t){var e=this._genericSet(t),n=e.changed,r=e.op;return n?this.createInstance(r):this}},{key:"setWithMutations",value:function(t){var e=this._genericSet(t).op;return this.action=e.action,this.data=e.data,this.attributes=e.attributes,this}},{key:"createInstance",value:function(t){return new this.constructor(t)}},{key:"toJSON",value:function(){return this.pack()}},{key:"pack",value:function(){var t=void 0;switch(this.action){case"insert":t=0;break;case"remove":t=1;break;case"retain":t=2}var e="function"==typeof this.data.pack?this.data.pack():this.data,n=[Number(""+this.constructor.packId+t),e];return this.attributes&&n.push(this.attributes),n}},{key:"getEmbedObject",value:function(){throw new Error("#getEmbedObject() not implemented")}},{key:"isEmpty",value:function(){return"retain"===this.action&&!this.attributes&&"number"==typeof this.data}},{key:"getAttributes",value:function(){return s.unpack(this.attributes)}},{key:"merge",value:function(t){if(this.name()!==t.name())return!1;var e=typeof this.data;return!(this.action!==t.action||e!==typeof t.data||"number"!==e&&"string"!==e||this.attributes!==t.attributes)&&t.set({data:t.data+this.data})}},{key:"compose",value:function(t){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be composed");if(this.constructor.packId!==t.constructor.packId&&!this.isGeneric()&&!t.isGeneric())throw new Error('Failed to compose operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;return e="function"==typeof this.data.compose&&t.data.constructor.packId===this.data.constructor.packId?this.data.compose(t.data):"number"==typeof this.data?t.data:this.data,(this.isGeneric()?t:this).createInstance({data:e,attributes:s.merge(this.attributes,t.attributes,"insert"!==this.action),action:this.action})}},{key:"invert",value:function(t){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.constructor.name+")");if("retain"!==t.action)throw new Error("Only retaining operator can be inverted");if(this.constructor.packId!==t.constructor.packId&&!t.isGeneric())throw new Error('Failed to invert operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;return e="function"==typeof this.data.invert&&t.data.constructor.packId===this.data.constructor.packId?this.data.invert(t.data):"number"==typeof t.data?t.data:this.data,this.createInstance({data:e,attributes:s.invert(this.attributes,t.attributes),action:"retain"})}},{key:"transform",value:function(t,e){if("retain"!==this.action)throw new Error("Only retaining operator can transform other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be transformd");if(this.constructor.packId!==t.constructor.packId&&!t.isGeneric()&&!this.isGeneric())throw new Error('Failed to transform operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');return(this.isGeneric()?t:this).createInstance({attributes:s.transform(this.attributes,t.attributes,e),action:"retain",data:"function"==typeof this.data.transform&&"function"==typeof t.data.transform?this.data.transform(t.data,e):t.data})}},{key:"print",value:function(){var t=[this.action+": %c"+this.name(),"color: #51c6ed"];this.attributes&&(t[0]=t[0]+"%c, %O",t.push("font-weight: normal; color: #000",this.attributes.toJS())),console.groupCollapsed.apply(console,t),function t(e){"function"==typeof e.pack?e.print():"object"==typeof e?Object.keys(e).forEach(function(n){var r=e[n];console.groupCollapsed(n),t(r),console.groupEnd()}):console.log(e)}(this.data),console.groupEnd()}},{key:"length",get:function(){switch(typeof this.data){case"number":return this.data;case"string":return this.data.length;default:return 1}}}],[{key:"unpack",value:function(t){var e=r(t,3),n=e[0],o=e[1],a=e[2];return new this({action:["insert","remove","retain"][n],data:Array.isArray(o)?i.unpack(o):o,attributes:a})}},{key:"insert",value:function(t,e){return new this({action:"insert",data:t,attributes:e})}},{key:"retain",value:function(t,e){return new this({action:"retain",data:t,attributes:e})}},{key:"remove",value:function(t){return new this({action:"remove",data:t})}}]),t}();c.packId=1,t.exports=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=e(s[0]);if(u=(r.read||r)(u,c)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(o[c]=u,t===c)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.OFFLINE="offline",t.OFFLINE_SAVING="offlineSaving",t.OFFLINE_SAVED="offlineSaved",t.OFFLINE_SAVE_FAILED="offlineSaveFailed",t.ONLINE="online",t.ONLINE_SAVING="onlineSaving",t.ONLINE_SAVED="onlineSaved",t.ONLINE_SAVE_FAILED="onlineSaveFailed",t.SERVER_CHANGE_APPLIED="serverChangeApplied"}(e.Status||(e.Status={}))},function(t,e,n){"use strict";(function(e){var r=n(172),o=n(663),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(557):void 0!==e&&(t=n(557)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(i)}),t.exports=s}).call(e,n(180))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPE_PROPERTY="__MODOC_NAME__"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(564),o=n(565),i="0:",a=function(){function t(e,n){this.action=e.action;var r,o=e.data;if(null===o||void 0===o)throw new Error('"data" is required for an Operator');if("object"==typeof o){var a=Object.keys(o)[0],s=o[a];if("string"==typeof s)this.data=o,this.dataType=a;else{var u=t.dataHandlers[a];if(!u)throw new Error('Unsupported nested data type "'+a+'"');var c=u.pack(s,"insert"===this.action);"delta"===a&&c===i?(this.data=1,this.dataType="number"):(this.data=((r={})[a]=c,r),this.dataType=a)}}else this.data=o,this.dataType=typeof o;this.packedAttributes=e.packedAttributes,this.pool=e.pool,this.packedData=n}return t.isOperator=function(t){return"function"==typeof t.getAttributes},t.registerDataHandler=function(e,n){t.dataHandlers[e]=n},t.getUnresolvedAttributes=function(t){return"function"==typeof t.getUnresolvedAttributes?t.getUnresolvedAttributes():t.getAttributes()},Object.defineProperty(t.prototype,"length",{get:function(){return"string"==typeof this.data?this.data.length:"number"==typeof this.data?this.data:1},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return"retain"===this.action&&(""===this.packedAttributes||void 0===this.packedAttributes)&&"number"==typeof this.data},t.prototype.getParsedData=function(){var e=t.dataHandlers[this.dataType];if(void 0===e)throw new Error("Unknown handler for "+this.dataType);return e.parse(this.getCustomData())},t.prototype.hasAttributes=function(){return void 0!==this.packedAttributes&&""!==this.packedAttributes},t.prototype.getAttributes=function(){return void 0!==this.pool&&this.hasAttributes()?this.pool.unpackAttributes(this.packedAttributes):{}},t.prototype.stringify=function(){if(void 0===this.packedData){var t=this.data,e=void 0;switch(this.action){case"insert":e="!";break;case"retain":e="@";break;default:e="#"}if("number"==typeof t)e+=t.toString(36)+"#";else if("string"==typeof t)e+=t.length.toString(36)+"!"+t;else{var n=this.dataType;if(void 0===n)throw new Error("ASSERT: dataType === undefined");var o=r.objectKeyToInitial[n];if(!o)throw new Error('Unsupport object data type: "'+n+'"');var i=""+o+t[n];e+=i.length.toString(36)+"@"+i}this.packedData=e}var a=void 0===this.packedAttributes?this.packedData:this.packedData+this.packedAttributes;return a.length.toString(36)+a},t.prototype.merge=function(e){if(this.action!==e.action)return null;var n=typeof this.data;if("object"===n||n!==typeof e.data)return null;var r=this.hasAttributes();if(r!==e.hasAttributes())return null;if(r)if(this.pool===e.pool){if(this.packedAttributes!==e.packedAttributes)return null}else if(!function(t,e){if(t===e)return!0;var n=Object.keys(t),r=n.length;if(r!==Object.keys(e).length)return!1;for(var o=0;o<r;o++)if(t[n[o]]!==e[n[o]])return!1;return!0}(this.getUnresolvedAttributes(),t.getUnresolvedAttributes(e)))return null;return new t({action:this.action,data:this.data+e.data,pool:this.pool,packedAttributes:this.packedAttributes})},t.prototype.getCustomData=function(){switch(typeof this.data){case"string":case"number":throw new Error("Cannot get custom data from a simple operator");default:return this.data[this.dataType]}},t.prototype.compose=function(e,n){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==e.action)throw new Error("Only retaining operator can be composed");var r,a,s;if("number"===this.dataType)r=e.data;else if("number"===e.dataType)r=this.data;else{if(void 0===this.dataType)throw new Error('Missing "dataType" when composing '+this.data+" with "+e.data);if(this.dataType!==e.dataType)throw new Error("Expect "+e.dataType+" to equal "+this.dataType+" when composing "+this.data+" with "+e.data);var u=t.dataHandlers[this.dataType];if(void 0===u)throw new Error("Unknown handler for "+this.dataType);var c=u.compose(this.getCustomData(),e.getCustomData(),n);r="delta"===this.dataType&&c===i?1:((s={})[this.dataType]=c,s)}if(e.hasAttributes()){if(void 0===this.pool)throw new Error("this.pool is undefined when composing");var l=o.merge(this.getUnresolvedAttributes(),t.getUnresolvedAttributes(e),!n);a=this.pool.packAttributes(l)}else a=this.packedAttributes;return new t({action:this.action,data:r,pool:this.pool,packedAttributes:a})},t.prototype.transform=function(e,n){if(void 0===n&&(n=!1),"retain"!==this.action)throw new Error("Only retaining operator can transform other operators");if("retain"!==e.action)throw new Error("Only retaining operator can be transformed");var r,a,s;if("number"===this.dataType||"number"===e.dataType)r=e.data;else{if(void 0===this.dataType)throw new Error('Missing "dataType" when transforming '+this.data+" with "+e.data);if(this.dataType!==e.dataType)throw new Error("Expect "+e.dataType+" to equal "+this.dataType+" when transforming "+this.data+" with "+e.data);var u=t.dataHandlers[this.dataType];if(void 0===u)throw new Error("Unknown handler for "+this.dataType);var c=u.transform(this.getCustomData(),e.getCustomData(),n);r="delta"===this.dataType&&c===i?1:((s={})[this.dataType]=c,s)}if(e.hasAttributes()){var l=o.transform(this.getUnresolvedAttributes(),t.getUnresolvedAttributes(e),n);if(void 0===e.pool)throw new Error("ASSERT: other.pool === undefined when transforming");a=e.pool.packAttributes(l)}else a="";return new t({action:this.action,data:r,pool:e.pool,packedAttributes:a})},t.prototype.invert=function(e,n){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.dataType+")");if("retain"!==e.action)throw new Error("Only retaining operator can be inverted");var r,a,s;if(void 0!==n)r=n;else if("number"==typeof e.data)r=e.data;else if("number"==typeof this.data&&"delta"!==e.dataType)r=this.data;else{if(void 0===this.dataType)throw new Error('Missing "dataType" when inverting '+this.data+" with "+e.data);if("number"===this.dataType&&"delta"===e.dataType){r={delta:(u=t.dataHandlers.delta).invert(i,e.getCustomData())}}else{if(this.dataType!==e.dataType)throw new Error("Expect "+e.dataType+" to equal "+this.dataType+" when inverting "+this.data+" with "+e.data);var u;if(void 0===(u=t.dataHandlers[this.dataType]))throw new Error("Unknown handler for "+this.dataType);var c=u.invert(this.getCustomData(),e.getCustomData());r="delta"===this.dataType&&c===i?1:((s={})[this.dataType]=c,s)}}if(e.hasAttributes()){var l=o.invert(this.getUnresolvedAttributes(),t.getUnresolvedAttributes(e));if(void 0===e.pool)throw new Error("ASSERT: other.pool === undefined when inverting");a=e.pool.packAttributes(l)}else a="";return new t({data:r,action:"retain",pool:e.pool,packedAttributes:a})},t.prototype.toJSON=function(){var e,n={action:this.action};if(this.hasAttributes()&&(n.attributes=this.getAttributes()),"number"===this.dataType||"string"===this.dataType)n.data=this.data;else{var r=t.dataHandlers[this.dataType],o=this.getCustomData();n.data=((e={})[this.dataType]=r?r.toJSON(o):o,e)}return n},t.prototype.explain=function(e){void 0===e&&(e="");var n=this.stringify().length,r=e+"["+this.dataType+"("+this.action+")] #"+(n-String(n).length)+":\n";if("number"===this.dataType||"string"===this.dataType)r+=e+this.data;else{var o=t.dataHandlers[this.dataType],i=this.getCustomData();r+=o?o.explain(e+"  ",i):i}return r+"\n"+e+"PackedAttributes:"+this.packedAttributes+"\n"},t.prototype.getUnresolvedAttributes=function(){return void 0!==this.pool&&this.hasAttributes()?this.pool.unpackAttributes(this.packedAttributes,!1):{}},t.dataHandlers={},t}();e.default=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(645),o=n(646),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]}},function(t,e,n){"use strict";var r=n(651),o=n(332),i=n(652);function a(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function s(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=o({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),a=e.length>0?e.join("="):void 0;a=void 0===a?null:i(a),n(i(o),a,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r}e.extract=s,e.parse=u,e.stringify=function(t,e){!1===(e=o({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[a(e,t),"[",r,"]"].join(""):[a(e,t),"[",a(r,t),"]=",a(n,t)].join("")};case"bracket":return function(e,n){return null===n?a(e,t):[a(e,t),"[]=",a(n,t)].join("")};default:return function(e,n){return null===n?a(e,t):[a(e,t),"=",a(n,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return a(r,e);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(t){void 0!==t&&i.push(n(r,t,i.length))}),i.join("&")}return a(r,e)+"="+a(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:u(s(t),e)}}},function(t,e){!function(e){var n=-1,r={onVisible:function(t){var e=r.isSupported();if(!e||!r.hidden())return t(),e;var n=r.change(function(e,o){r.hidden()||(r.unbind(n),t())});return n},change:function(t){if(!r.isSupported())return!1;var e=n+=1;return r._callbacks[e]=t,r._listen(),e},unbind:function(t){delete r._callbacks[t]},afterPrerendering:function(t){var e=r.isSupported();if(!e||"prerender"!=r.state())return t(),e;var n=r.change(function(e,o){"prerender"!=o&&(r.unbind(n),t())});return n},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==r._doc.hidden||void 0!==r._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(t){var e=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,t,e)},_listen:function(){if(!r._init){var t="visibilitychange";r._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(t,e):r._doc.attachEvent(t,e),r._init=!0}}};void 0!==t&&t.exports?t.exports=r:e.Visibility=r}(this)},function(t,e,n){t.exports=n(660)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(172),o=n(664),i=n(666),a=n(667),s=n(668),u=n(558),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(669);t.exports=function(t){return new Promise(function(e,l){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var h=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(t.url)||(h=new window.XDomainRequest,d="onload",v=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var y=t.auth.username||"",g=t.auth.password||"";p.Authorization="Basic "+c(y+":"+g)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[d]=function(){if(h&&(4===h.readyState||v)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};o(e,l,r),h=null}},h.onerror=function(){l(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=n(670),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in h&&r.forEach(p,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),l(t),h=null)}),void 0===f&&(f=null),h.send(f)})}},function(t,e,n){"use strict";var r=n(665);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(562);e.Delta=r.Delta;var o=n(563);e.Pool=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(682);e.Delta=r.default;var o=n(444);n(686).registerDataHandlers(o.default,r.default,o.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(443),o=n(683),i=n(684),a=function(){function t(t){void 0===t&&(t={array:[],packedData:""}),this[r.TYPE_PROPERTY]="Pool","string"==typeof t?(this.array=JSON.parse(t),this.packedData=t):(this.array=t.array,this.packedData=t.packedData)}return t.isPool=function(t){return"object"==typeof t&&null!==t&&"Pool"===t[r.TYPE_PROPERTY]},t.prototype.isSubsetOf=function(t){if(this===t)return!0;var e=this.array.length;if(0===e)return!0;if(e>t.array.length)return!1;for(var n=0;n<e;n++)if(this.array[n]!==t.array[n])return!1;return!0},t.prototype.getMap=function(){if(!this.map){this.map={};for(var t=0;t<this.array.length;t++)this.map[this.array[t]]=String(t)}return this.map},t.prototype.packAttributes=function(t){if(!t)return"";var e=Object.keys(t),n=e.length;if(0===n)return"";for(var r=[],o=[],a=0;a<n;a++){var s=e[a],u=t[s];if("object"==typeof u&&null!==u)for(var c=0,l=i.objectToKeyPaths(u,"."+s);c<l.length;c++){var f,p=l[c];" "===(f=this.getAddress(p[0],p[1]))[0]?r.push(f):o.push(f)}else" "===(f=this.getAddress(s,u))[0]?r.push(f):o.push(f)}return o.sort().join("")+r.sort().join("")},t.prototype.getAddress=function(t,e){var n=o.combinedAttributeWithValue(t,e),r=o.getGulByCombinedKeyValue(n);if("string"==typeof r)return r;var i=this.getMap();if(!i.hasOwnProperty(n)){this.packedData=void 0;var a=this.array.length;i[n]=String(a),this.array.push(n)}return" "+i[n]},t.prototype.unpackAttributes=function(t,e){void 0===e&&(e=!0);for(var n={},r=0;r<t.length&&" "!==t[r];){var a=o.getKeyValueByGul(t[r]),s=a[0],u=a[1];e&&"."===s[0]?i.keyPathToObject(n,s,u):n[s]=u,r+=1}if(r<t.length-1)for(var c=0,l=t.substring(r+1).split(" ");c<l.length;c++){var f=l[c],p=o.parseCombinedAttributeValue(this.array[f]);s=p[0],u=p[1];e&&"."===s[0]?i.keyPathToObject(n,s,u):n[s]=u}return n},t.prototype.stringify=function(){return"string"!=typeof this.packedData&&(this.packedData=this.array.length?JSON.stringify(this.array):""),this.packedData},t.prototype.clone=function(){return new t({array:this.array.slice(),packedData:this.packedData})},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initialToObjectKey={A:"attachment",C:"cell",I:"image",D:"delta",T:"table",P:"presentation",S:"slide",M:"mention",N:"inline-break",V:"divide",U:"upload-placeholder-attachment",G:"gallery",B:"gallery-block",Z:"mindmap",O:"object",F:"form"},e.objectKeyToInitial=Object.keys(e.initialToObjectKey).reduce(function(t,n){return t[e.initialToObjectKey[n]]=n,t},{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=function(t,e,n){var r=Object.keys(t);if(n&&0===r.length)return e;for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o];t[a]=e[a],n||null!==t[a]||delete t[a]}return t},e.transform=function(t,e,n){if(n)return e;var r=Object.keys(e);if(0===r.length)return e;var o=Object.keys(t);if(0===o.length)return e;if(o.length>r.length)for(var i=0,a=r;i<a.length;i++){var s=a[i];t.hasOwnProperty(s)&&delete e[s]}else for(var u=0,c=o;u<c.length;u++)delete e[c[u]];return e},e.invert=function(t,e){var n=Object.keys(e);if(0===n.length)return e;if(0===Object.keys(t).length)for(var r=0,o=n;r<o.length;r++)e[s=o[r]]=null;else for(var i=0,a=n;i<a.length;i++){var s,u=t[s=a[i]];e[s]=void 0===u?null:u}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(443);e.isDelta=function(t){return"object"==typeof t&&null!==t&&"Delta"===t[r.TYPE_PROPERTY]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.possibleDeltaInputToString=function(t,e){if(void 0===e||null===e)return"";if(Array.isArray(e)){if(0===e.length)return"";var n=new t(e);return n.isEmpty()?"":n.stringify()}return e.isEmpty()?"":e.stringify()}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(567),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(t,e,n){for(var r=this.parse(t).slice(0),o=this.parse(e).slice(0),i=Math.max(r.length,o.length),a=new Array(i),s=0;s<i;s++){var u=r[s],c=o[s];a[s]=u?c?u.compose(c,n):u:c}return this.pack(a)},e.prototype.transform=function(t,e,n){for(var r=this.parse(t).slice(0),o=this.parse(e).slice(0),i=Math.max(r.length,o.length),a=new Array(i),s=0;s<i;s++){var u=r[s],c=o[s];a[s]=u?c?u.transform(c,n):void 0:c}return this.pack(a)},e.prototype.invert=function(t,e){for(var n=this.parse(t).slice(0),r=this.parse(e).slice(0),o=Math.max(n.length,r.length),i=new Array(o),a=0;a<o;a++){var s=n[a],u=r[a];i[a]=s?u?s.invert(u):void 0:u}return this.pack(i)},e.prototype.parse=function(t){for(var e=0,n=[];e<t.length;){var r=t.indexOf("$",e);if(-1===r)break;var o=parseInt(t.substring(e,r),36),i=r+1+o,a=0===o?void 0:new this.deltaConstructor(t.substring(r+1,i));e=i,n.push(a)}return n},e.prototype.pack=function(t){for(var e="",n=0,r=t;n<r.length;n++){var i=r[n],a=o.possibleDeltaInputToString(this.deltaConstructor,i);e+=a.length.toString(36)+"$"+a}return e},e.prototype.toJSON=function(t){return this.parse(t).map(function(t){return t?t.toJSON():void 0})},e.prototype.explain=function(t,e){for(var n=t+"List:\n",r=this.parse(e),o=0;o<r.length;o++){var i=r[o];n+=t+"Item #"+o+":\n",n+=i?i.explain(t):"[EMPTY]"}return n},e}(n(333).default);e.default=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var i=n(399),a=n(401),s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a),r(e,[{key:"setData",value:function(t){if(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),"number"==typeof this.data&&1!==this.data)throw new Error('The value of data should be "1", got '+this.data);return this}},{key:"name",value:function(){return"CellOperator"}},{key:"compose",value:function(t){if("remove"===this.action)throw new Error("Removing operator cannot compose other operators");if("retain"!==t.action)throw new Error("Only retaining operator can be composed");if(this.constructor.packId!==t.constructor.packId)throw new Error('Failed to compose operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;if("function"==typeof this.data.compose&&t.data.constructor.packId===this.data.constructor.packId)e=this.data.compose(t.data);else if("number"==typeof this.data)e=t.data;else{e=void 0!==i.unpack(t.attributes).cellValue?1:this.data}return(this.isGeneric()?t:this).createInstance({data:e,attributes:i.merge(this.attributes,t.attributes,"insert"!==this.action),action:this.action})}},{key:"invert",value:function(t){if("insert"!==this.action)throw new Error('invert should only apply to the "insert" action ('+this.constructor.name+")");if("retain"!==t.action)throw new Error("Only retaining operator can be inverted");if(this.constructor.packId!==t.constructor.packId)throw new Error('Failed to invert operators. Expect constructor "'+t.constructor.name+'" to equal "'+this.constructor.name+'"');var e=void 0;if("function"==typeof this.data.invert&&t.data.constructor.packId===this.data.constructor.packId)e=this.data.invert(t.data);else if("number"==typeof t.data){e=void 0!==i.unpack(t.attributes).cellValue?this.data:t.data}else e=this.data;return this.createInstance({data:e,attributes:i.invert(this.attributes,t.attributes),action:"retain"})}}]),e}();s.packId=4,t.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(1),i=(n.n(o),n(74)),a=(n.n(i),n(641)),s=n(643),u=(n.n(s),n(161)),c=(n.n(u),this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),l=o.sheets,f=l.root,p=l.path,h=l.Events,d=p.setByPath;!function(t){t.SAVE_STATUS_CHANGE="saveStatusChange",t.ERROR="error",t.CLIENT_READY="clientReady",t.REV_CHANGE="revChange"}(r||(r={}));var v={"-3":s.Types.RICHDOC,"-4":s.Types.MODOC},y=function(t){function e(e){var n=e.editor,o=e.socket,i=e.usingNewSeq,a=t.call(this)||this;return a.updateConfig=function(t){a.collab.updateConfig(t)},a.onSaveStatusChange=function(t){a.emit(r.SAVE_STATUS_CHANGE,t)},a.onError=function(t){a.emit(r.ERROR,t.code?t:JSON.parse(t.message))},a.onClientReady=function(){a.emit(r.CLIENT_READY)},a.onRevChange=function(t){a.emit(r.REV_CHANGE,t)},a._editor=n,a._usingNewSeq=i||!1,a._socket=o,a}return c(e,t),e.prototype.init=function(t){var e=this,n=t.guid,r=t.head,o=t.fileType,i=t.clientId,c=t.csStorage,l=t.committingChange,f=t.userChange,p=this._editor;this.csStorage=c,this._usingNewSeq?this.collab=new s.Collaboration({guid:n,rev:r,clientId:i,editor:p,committingChange:l,userChange:f,storage:this.csStorage||void 0,type:v[o],pullUrl:"/lizard-api/files/"+n+"/pull",composeUrl:"/lizard-api/files/"+n+"/compose",pullInterval:55e3,forceXhr:Object(u.isDingTalk)()}):this.collab=new a.a({guid:n,fileType:o,editor:p,socket:this._socket,clientId:i,rev:r,committingCS:l&&l.delta,userCS:f&&f.delta,storage:this.csStorage||void 0}),this.collab.on("saveStatusChange",this.onSaveStatusChange),this.collab.on("error",this.onError),this.collab.on("clientReady",this.onClientReady),this.collab.on("revChange",this.onRevChange),this.collab.on("serverChangeProcessed",function(t){var n=t.change;e._editor.transformRecords(n)})},e.prototype.start=function(){this.collab&&this.collab.start(),this._editor.emit(h.ReceiveChangeReady)},e.prototype.getCsStorage=function(){return this.csStorage},e.prototype.getClientId=function(){return this.collab.clientId},e.prototype.getRev=function(){return this.collab.rev},e.prototype.destroy=function(){this.collab.off("saveStatusChange",this.onSaveStatusChange),this.collab.off("error",this.onError),this.collab.off("clientReady",this.onClientReady),this.collab.off("revChange",this.onRevChange),this.collab.destroy&&this.collab.destroy(),this.removeAllListeners()},e}(i.EventEmitter);e.default=y,d(f,"shimo.sdk.sheet.plugins.Collaboration",y)},function(t,e,n){"use strict";(function(t,r){var o,i,a,s,u=n(160),c=n.n(u),l=n(330),f=n.n(l),p=n(331),h=n.n(p),d=n(74),v=(n.n(d),n(310)),y=(n.n(v),n(1)),g=(n.n(y),n(440)),m=n.n(g),b=n(642),w=n.n(b),_=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=this&&this.__assign||function(){return(E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},C=y.sheets.Events,O=y.sheets.changeset,S=O.genDelta,A=O.pack,k=O.unpack,T=y.sheets.constants.ERR_CODE;!function(t){t.ready="CLIENT_READY",t.quit="CLIENT_QUIT"}(o||(o={})),function(t){t.OFFLINE="offline",t.OFFLINE_SAVING="offlineSaving",t.OFFLINE_SAVED="offlineSaved",t.OFFLINE_SAVE_FAILED="offlineSaveFailed",t.ONLINE="online",t.ONLINE_SAVING="onlineSaving",t.ONLINE_SAVED="onlineSaved",t.ONLINE_SAVE_FAILED="onlineSaveFailed",t.SERVER_CHANGE_APPLIED="serverChangeApplied",t.SYNC_OFFLINE_START="syncOfflineStart",t.SYNC_OFFLINE_SUCCESS="syncOfflineSuccess",t.SYNC_OFFLINE_FAILED="syncOfflineFailed"}(i||(i={})),function(t){t.ackTimeout="ack_timeout",t.missingTimeout="missing_timeout",t.socketDisconnected="socket_disconnected"}(a||(a={})),function(t){t.clientReady="clientReady",t.saveStatusChange="saveStatusChange",t.error="error",t.revChange="revChange",t.serverChangeProcessed="serverChangeProcessed"}(s||(s={}));var x=function(e){function n(n){var r=n.guid,u=n.fileType,l=n.editor,p=n.socket,d=n.rev,y=n.clientId,g=n.storage,m=n.committingCS,b=n.userCS,_=e.call(this)||this;return _.reconnectedHandler=function(){if(!_.hasBadChangesetFromServer){_.sendClientStatus(o.ready,!0);var t=_,e=t.offlineTimeId,n=t.disconnectTimeId;e&&clearTimeout(e),n&&clearTimeout(n),_.emit(s.saveStatusChange,i.ONLINE),_.offlineTimeId=setTimeout(function(){_.sendOfflineChange("reconnected")},2e3)}},_.disconnectedHandler=function(){if(!_.hasBadChangesetFromServer){var t=_.disconnectTimeId;t&&clearTimeout(t),_.disconnectTimeId=setTimeout(function(){_.offline(a.socketDisconnected)},3e3)}},_.onMessage=function(t){if("COLLABROOM"===t.type)switch(t.data.type){case"NEW_CHANGES":_.receivedNewChange(t.data);break;case"ACCEPT_COMMIT":case"REPEAT_COMMIT":_.sendChangeSuccess(t.data);break;case"BAD_CHANGESET":_.emit(s.error,{code:t.data.code||T.BAD_CS}),_.emit(s.saveStatusChange,i.ONLINE_SAVE_FAILED),_.ackTimeoutReconnection.clearTimeout(),_.hasBadChangesetFromServer=!0;break;case"WARNING":h.a.notify("accept:warning",t.data)}},_.onEditorChange=function(t){_.userCS=_.userCS.compose(t),_.userCSUuid=_.genUserCSUuid(),_.saveToStorage().then(function(){_.offlined&&_.emit(s.saveStatusChange,i.OFFLINE_SAVED)}).catch(function(){_.offlined&&_.emit(s.saveStatusChange,i.OFFLINE_SAVE_FAILED)}),_.emit(s.saveStatusChange,_.offlined?i.OFFLINE_SAVING:i.ONLINE_SAVING),_.saveStatus===i.ONLINE_SAVED&&_.sendChange("editorChanged")},_.sendChange=function(e){var n,r,o=_.fileType,a=_.committingCS&&!_.committingCS.isEmpty();if(a?(n=_.committingCS,r=_.uuid):(n=_.userCS,r=_.userCSUuid),!n.isEmpty()){var s=_.wrapUserChangeMsg(n,{uuid:r});_.send(s);var u=s.padId,c=s.collabId,l=s.data.baseRev;t({padId:u,baseRev:l,uuid:r,collabId:c},"",0,0,{name:"TRACK_SHEET_ONLINE_CS_"+e.toUpperCase()}),_.saveStatus=i.ONLINE_SAVING,a||(_.committingCS=_.userCS,_.userCS=S(o),_.uuid=_.userCSUuid,_.userCSUuid=null),_.ackTimeoutReconnection.addTimeout(),_.saveToStorage()}},_.sendChangeSuccess=function(e){if(e.newRev<=_.rev)return t(E({},e,{curRev:_.rev}),"reducer/msg.js",0,0,{name:"TRACK_SHEET_RECEIVED_ACCEPT_ERROR"});var n=_.processAck(e);if(!f()(n)){var r=n,o=r.rev,a=r.committingCS;_.rev=o,_.committingCS=a,_.offlined=!1,_.saveToStorage()}null===n||(_.saveStatus=i.ONLINE_SAVED),_.emit(s.saveStatusChange,i.ONLINE_SAVED),_.ackTimeoutReconnection.clearTimeout(),_.sendChange("ackReceived")},_.receivedNewChange=function(t){var e=_,n=e.editor;e.newChangesQueue.push(t),n.canHandleChanges()&&_.clearNewChangesQueue()},_.clearNewChangesQueue=function(){try{_.applyNewChange(_.newChangesQueue)}catch(e){t({stack:e&&e.stack,error:e,newChangesQueue:_.newChangesQueue},"",0,0,{name:"ERR_SHEET_APPLY_NEW_CHANGE_FAILED"}),console.error(e)}_.newChangesQueue=[]},_.applyNewChange=function(e){if(!_.hasBadChangesetFromServer){var n=_,r=n.fileType,o=n.rev,a=n.guid,u=n.clientId,l=n.isReconnect,f=n.committingCS,p=n.userCS;e instanceof Array||(e=[e]);for(var h=!1,d=o,v={rev:o,applyCS:S(r),committingCS:f,userCS:p},y=0,g=e.length;y<g;y++){var m=e[y],b=m.changeset,w=m.newRev;if(d=Math.max(d,w),!(w<=v.rev)){if(w>v.rev+1)break;if("NEW_CHANGES"===m.type&&m.padId&&m.padId!==a)return void t({curGuid:a,otherGuid:m.padId,curRev:v.rev,otherRev:w},"reducer/msg.js",0,0,{name:"TRACK_SHEET_RECEIVED_OTHER_FILE_CHANGE"});if("NEW_CHANGES"===m.type&&m.clientId===u)return void t({clientId:m.clientId,guid:a,rev:w},"reducer/msg.js",0,0,{name:"TRACK_SHEET_RECEIVED_SELF_CHANGE"});if(h=!0,"ACCEPT_COMMIT"!==m.type&&"REPEAT_COMMIT"!==m.type){var E=l&&b===A(r,v.committingCS);b=k(r,b);var C=_.processRemoteNewChange(v,b,E);_.emit(s.serverChangeProcessed,{change:C._d}),c()(v,{rev:w,committingCS:C._x,userCS:C._y,applyCS:C.d,fromPush:!0}),E&&t({clientId:m.clientId,guid:a,rev:w,curRev:o,curClientId:u},"",0,0,{name:"TRACK_SHEET_RECEIVED_REPEATED_COMMITTINGCS"})}else c()(v,_.processAck(m,!0))}}d>v.rev&&_.sendMissingChanges(v.rev+1),h&&(c()(_,v),_.saveToStorage(),_.editor.applyChange(v.applyCS),_.emit(s.saveStatusChange,i.SERVER_CHANGE_APPLIED))}},_.processAck=function(e,n){var r=e.newRev,o=e.padId,i=_,a=i.guid,s=i.fileType,u=i.rev,c=i.newChangesQueue;return a!==o?(t({curGuid:a,otherGuid:o,curRev:u,otherRev:r},"oldSeq",0,0,{name:"TRACK_RECEIVED_OTHER_FILE_ACK"}),null):u>=r?(t({curGuid:a,otherGuid:o,curRev:u,otherRev:r},"oldSeq",0,0,{name:"RECEIVED_REPEATED_ACK"}),null):!n&&c.length>0?(c.push(e),{}):{rev:r,committingCS:S(s)}},_.sendOfflineChange=function(e){var n=_.committingCS;if(_.isReconnect)if(n.isEmpty())_.isReconnect=!1;else{var r=_.wrapUserChangeMsg(n,{uuid:_.uuid});_.send(r);var o=r.padId,i=r.collabId,a=r.data,s=a.baseRev,u=a.uuid;t({padId:o,baseRev:s,uuid:u,collabId:i},"",0,0,{name:"TRACK_SHEET_OFFLINE_CS_"+e.toUpperCase()}),_.isReconnect=!1}},_.offline=function(e){var n=_,r=n.guid,o=n.rev,u=n.clientId;t({guid:r,rev:o,clientId:u,offlined:_.offlined},"",0,0,{name:"TRACK_SHEET_"+(e&&e.toUpperCase())}),(e!==a.ackTimeout&&e!==a.missingTimeout||(_.sendMissingChanges(o+1),"ack_timeout"!==e))&&(_.offlined||(_.offlined=!0,_.emit(s.saveStatusChange,i.OFFLINE)))},_.guid=r,_.fileType=u,_.editor=l,_.rev=d,_.socket=p,_.storage=g,_.isReconnect=!1,_.clientId=y||Object(v.v4)(),_.saveStatus=i.ONLINE_SAVED,_.newChangesQueue=[],_.offlined=!1,_.committingCS=m?"string"==typeof m?k(u,m):m:S(u),_.userCS=b?"string"==typeof b?k(u,b):b:S(u),_.ackTimeoutReconnection=new w.a(_.offline),_}return _(n,e),Object.defineProperty(n.prototype,"rev",{get:function(){return this._rev},set:function(t){this._rev=t,this.emit(s.revChange,t)},enumerable:!0,configurable:!0}),n.prototype.start=function(){var t=this,e=this.socket;e.connected?(this.sendClientStatus(o.ready),e.on("connect",this.reconnectedHandler)):e.once("connect",function(){t.sendClientStatus(o.ready),e.on("connect",t.reconnectedHandler)}),e.on("disconnect",this.disconnectedHandler),e.on("message",this.onMessage),this.editor.on(C.Change,this.onEditorChange),this.editor.on(C.CalcCsQueueEmpty,this.clearNewChangesQueue),r(window).on("offline",this.disconnectedHandler).on("online",this.reconnectedHandler)},n.prototype.destroy=function(){var t=this.socket;t&&(t.off("connect",this.reconnectedHandler),t.off("disconnect",this.disconnectedHandler),t.off("message",this.onMessage)),this.editor.off(C.Change,this.onEditorChange),this.editor.off(C.CalcCsQueueEmpty,this.clearNewChangesQueue),r(window).off("offline",this.disconnectedHandler).off("online",this.reconnectedHandler)},n.prototype.updateConfig=function(t){t.hasOwnProperty("guid")&&(this.guid=t.guid,this.sendOfflineChange("updateConfig"))},n.prototype.sendClientStatus=function(t,e){var n=this.rev,r=this.clientId,o={component:"pad",type:t,padId:this.guid,reconnect:!0,client_rev:n,collabId:r,sessionID:m.a.get("sessionID"),token:m.a.get("token"),protocolVersion:2};this.send(o),this.offlined=!1,this.isReconnect=e||!1,this.emit(s.clientReady)},n.prototype.send=function(t){this.socket&&this.socket.emit("message",t)},n.prototype.sendMissingChanges=function(e){var n=this.guid,r={type:"COLLABROOM",component:"pad",padId:n,collabId:this.clientId,data:{type:"MISSING_CHANGES",fromRev:e}};this.send(r),t({tag:"seq_missing_changes",fileGuid:n,fromRev:e,toRev:this.rev},"oldSeq/index.js",0,0,{name:"seq_missing_changes"})},n.prototype.wrapUserChangeMsg=function(t,e){var n=e.uuid,r=this.guid,o=this.fileType;return{type:"COLLABROOM",component:"pad",padId:r,collabId:this.clientId,data:{type:"USER_CHANGES",baseRev:this.rev,changeset:A(o,t),uuid:n}}},n.prototype.processRemoteNewChange=function(t,e,n){var r=this.fileType,o=t.userCS,i=t.applyCS,a=n?S(r):t.committingCS,s=a.transform(e,!0),u=e.transform(a),c=s.transform(o),l=o.transform(s,!0);return{_x:u,_y:c,_d:l,d:i.compose(l)}},n.prototype.saveToStorage=function(){var t=this,e=t.fileType,n=t.clientId,r=t.guid,o=t.rev,i=t.committingCS,a=t.uuid,s=t.userCS,u=t.userCSUuid;return this.storage.set({clientId:n,guid:r,rev:o,committingChange:{delta:A(e,i),uuid:a},userChange:{delta:A(e,s),uuid:u}})},n.prototype.genUserCSUuid=function(){var t=this.userCSUuid;return t||(t="s-"+Object(v.v4)()),t},n}(d.EventEmitter);e.a=x}).call(e,n(215),n(46))},function(t,e,n){(function(n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeoutFun=e,this.ackTimeout=null,this.intervalTimeout=null,this.waitTime=3e4,this.maxIntervalTime=3e5,this.timeoutCount=1,this.maxSendCount=60}return r(t,[{key:"addTimeout",value:function(){var t=this,e=this.waitTime,r=this.timeoutCount,o=this.maxIntervalTime,i=this.maxSendCount,a=1===r,s=Math.min(this.waitTime*r,o);if(r>i)return this.clearTimeout(),n({guid:window.cow.currentFile.guid},"",0,0,{name:"ERR_SHEET_SEND_MISSING_CHANGE_MAX_TIME"});this.ackTimeout=setTimeout(function(){t.timeoutFun(a?"ack_timeout":"missing_timeout"),t.intervalTimeout=setTimeout(function(){t.addTimeout()},s)},e),this.timeoutCount++}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){clearTimeout(this.ackTimeout),clearTimeout(this.intervalTimeout),this.timeoutCount=1})}]),t}();e.default=o,t.exports=e.default}).call(e,n(215))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(644);e.Collaboration=r.Collaboration,e.Types=r.Types;var o=n(199);e.version=o.version},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(550),s=n(396),u=n(199),c=n(648),l=n(658),f=n(659),p=n(679),h=n(698),d=n(441);!function(t){t.MODOC="modoc",t.RICHDOC="richdoc"}(e.Types||(e.Types={})),function(t){t.MODOC="modoc",t.RICHDOC="richdoc"}(i=e.DeltaType||(e.DeltaType={}));var v=function(t){function e(e){var n=t.call(this)||this;n.events=u.Event,n.type=i.MODOC,n.pullInterval=55e3,n.assert(e.editor,"options.editor required"),n.assert(e.rev,"options.rev required"),n.assert(e.guid,"options.guid required");var r=n.clientId=e.clientId||a.v4().replace(/-/g,""),s=n.guid=e.guid;e.pullInterval&&(n.pullInterval=e.pullInterval),e.storage&&(n.storage=e.storage),e.type&&(n.type=e.type);var v={rev:e.rev};n.shared=v;var y=n.tracker=new p.Tracker({committingChange:e.committingChange,editor:e.editor,storage:n.storage?{set:function(){return function(t){if(n.storage){var e={clientId:n.clientId,guid:n.guid,rev:n.shared.rev},r=o({},t,e);n.storage.set(r)}}}}:void 0,type:n.type,userChange:e.userChange,adaptors:e.adaptors});if(n.puller=new c.Puller({clientId:r,guid:n.guid,pullInterval:n.pullInterval,shared:v,tracker:y,url:e.pullUrl.replace("{guid}",String(n.guid)),handleServerChangeThrottleDelay:e.handleServerChangeThrottleDelay,delayMin:e.pullDelayMin,delayMax:e.pullDelayMax,delayRandomizationFactor:e.pullDelayRandomizationFactor,visibilityDelay:e.visibilityDelay,forceXhr:e.forceXhr}),n.puller.on(u.Event.CHANGES,function(t){n.emit(n.events.CHANGES,t)}),n.sender=new f.Sender({clientId:r,guid:s,shared:v,tracker:y,url:e.composeUrl.replace("{guid}",String(n.guid))}),e.selectUrl){var g=e.collaborators||e.editor.collaborators;if(!g)throw new Error("Missing `collaborators` option");n.collaborator=new h.Collaborator({puller:n.puller,url:e.selectUrl,editor:g,clientId:r}),n.collaborator.on(u.Event.WARNING,function(t){return n.emit(u.Event.WARNING,t)}),[u.Event.ENTER,u.Event.LEAVE,u.Event.SELECT].forEach(function(t){n.collaborator&&n.collaborator.on(t,function(e){return n.emit(t,e)})})}return n.puller.on(u.Event.BROADCAST,function(t){n.emit(u.Event.BROADCAST,t)}),n.saveStatus=new l.SaveStatus({timeoutThreshold:12e4}),[n.sender,n.puller,n.saveStatus,n.tracker].forEach(function(t){t.on(u.Event.ERROR,function(t){n.emit(u.Event.ERROR,t),n.stop(),u.setReadonly(e.editor)}),t.on(u.Event.WARNING,function(t){n.emit(u.Event.WARNING,t)})}),n.tracker.on(u.Event.SERVER_CHANGE_APPLIED,function(t){n.emit(n.events.BEFORE_APPLY_CHANGE,t)}),n.tracker.on(u.Event.SERVER_CHANGE_PROCESSED,function(t){n.emit(n.events.SERVER_CHANGE_PROCESSED,t)}),n.saveStatus.on(u.Event.CHANGE,function(t){n.emit(n.events.SAVE_STATUS_CHANGE,t)}),n.initializeSaveStatus(),!1===e.offlineEditable&&n.saveStatus.on(l.SaveStatus.events.CHANGE,function(t){t===d.Status.ONLINE&&u.setEditable(e.editor),t===d.Status.OFFLINE&&u.setReadonly(e.editor)}),n}return r(e,t),e.prototype.start=function(){this.sender.start(),this.puller.start()},e.prototype.stop=function(){this.sender.stop(),this.puller.stop()},e.prototype.getCollaborators=function(){return this.collaborator?this.collaborator.users:[]},e.prototype.haveUnsavedChange=function(){return this.tracker.committingChange.delta.length>0},e.prototype.destroy=function(){this.stop(),this.puller.destroy(),this.sender.destroy(),this.saveStatus.destroy(),this.tracker.destroy(),this.collaborator&&this.collaborator.destroy()},Object.defineProperty(e.prototype,"rev",{get:function(){return this.shared.rev},set:function(t){this.shared.rev=t},enumerable:!0,configurable:!0}),e.prototype.initializeSaveStatus=function(){var t=this;Object.keys(u.Event).forEach(function(e){var n=u.Event[e];[t.puller,t.sender,t.tracker].forEach(function(e){e.on(n,function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];(e=t.saveStatus).onEvent.apply(e,[n].concat(r))})})})},e.events=u.Event,e}(s.Base);e.Collaboration=v},function(t,e,n){var r,o,i=n(551),a=n(552),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=i();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,y=d-s+(v-u)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=v,o=p;var g=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var m=d/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var b=0;b<6;++b)l[c+b]=f[b];return e||a(l)}},function(t,e,n){var r=n(551),o=n(552);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=function(t){return new Promise(function(e){setTimeout(e,t)})}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(397),u=n(222),c=n(553),l=n(653),f=n(654),p=n(199),h=n(655),d=s("collab:puller");!function(t){t.NEW="new",t.ACCEPT="accept"}(a=e.ServerChangeType||(e.ServerChangeType={}));var v=p.version.replace(/\./g,"_"),y=function(t){function e(e){var n=t.call(this)||this;return n.stopped=!1,n.changes=[],n.isHandling=!1,n.lastHandleServerChangeTime=0,n.handleServerChangeThrottleDelay=0,n.forceXhr=!1,n.visible=!0,n.lastEventId={},n.guid=e.guid,n.url=e.url.replace("{guid}",String(n.guid)),n.clientId=e.clientId,n.tracker=e.tracker,n.shared=e.shared,n.currentPullRev=n.shared.rev,n.pullInterval=e.pullInterval,n.handleServerChanges=n.wrapAsyncTryCatch(n.handleServerChanges,n),e.handleServerChangeThrottleDelay&&(n.handleServerChangeThrottleDelay=e.handleServerChangeThrottleDelay),e.forceXhr&&(n.forceXhr=e.forceXhr),n.tracker.on("readyToHandleChanges",function(){n.handleServerChanges()}),n.backoff=new f({min:e.delayMin||100,max:e.delayMax||5e3,jitter:e.delayRandomizationFactor||.5}),n.visibilityDelay=e.visibilityDelay||6e5,n.initialVisibility(),n}return r(e,t),e.prototype.start=function(){this.stopped=!1,this.pull()},e.prototype.stop=function(){this.stopped||(this.eventSource&&this.eventSource.close(),this.pullTimeout&&clearTimeout(this.pullTimeout),this.visibilityTimeout&&(clearTimeout(this.visibilityTimeout),this.visibilityTimeout=null),this.stopped=!0)},e.prototype.destroy=function(){this.stop(),this.superDestroy()},e.prototype.pull=function(){var t=this;if(!this.stopped){var e=this.assembleEventSourceUrl(),n=this.eventSource=new l(e,{forceXhr:this.forceXhr});n.addEventListener(p.Event.CHANGES,function(e){var n;t.onMessage(e);var r=JSON.parse(e.data).filter(function(e){return e.rev>t.currentPullRev}).sort(function(t,e){return t.rev-e.rev}).filter(function(t,e,n){return 0===e||t.rev!==n[e-1].rev});0!==r.length&&((n=t.changes).push.apply(n,r),t.currentPullRev=r[r.length-1].rev,t.handleServerChanges())}),n.addEventListener(p.Event.COLLABORATOR,function(e){t.onMessage(e),t.emit(p.Event.COLLABORATOR,JSON.parse(e.data))}),n.addEventListener("pull_error",function(e){t.onMessage(e),d("pull_error message "+e.data);try{var n=JSON.parse(e.data),r=new p.CollaborationError(n.message,n.code,e.data);t.emit(p.Event.ERROR,r)}catch(e){t.emit(p.Event.ERROR,new p.CollaborationError("Pull error",p.ERROR.ERR_PULL,e.data))}}),n.addEventListener(p.Event.BROADCAST,function(e){t.onMessage(e),t.emit(p.Event.BROADCAST,JSON.parse(e.data))}),this.pullTimeout=setTimeout(function(){d("pull timeout, close"),t.onEventSourceErrorOrClose({status:t.eventSource&&t.eventSource.status||0})},this.pullInterval),n.onerror=function(e){return t.onEventSourceErrorOrClose(e)},n.addEventListener("close",function(e){t.onEventSourceErrorOrClose(e)})}},e.prototype.onMessage=function(t){try{this.lastEventId=JSON.parse(t.lastEventId)}catch(t){this.lastEventId={}}},e.prototype.onEventSourceErrorOrClose=function(t){var e=this;if(d("pull eventsource error or closed",t),this.pullTimeout&&clearTimeout(this.pullTimeout),this.eventSource)try{this.eventSource.close(),this.eventSource.removeEventListener(p.Event.CHANGES),this.eventSource.removeEventListener(p.Event.COLLABORATOR),this.eventSource.removeEventListener(p.Event.BROADCAST),this.eventSource.removeEventListener("pull_error"),this.eventSource.removeEventListener("close")}catch(t){d("event source closed error",t)}var n=String(t.status);if("4"!==n[0])if(this.visible){if("2"===n[0])return this.backoff.reset(),void this.pull();var r=this.backoff.duration();d("pull with status "+n+", delay "+r+"ms to run"),this.delayRun(this.pull,r)}else this.visibilityTimeout=setTimeout(function(){e.visibilityTimeout=null,e.pull()},this.visibilityDelay);else this.emit(p.Event.ERROR,new p.CollaborationError("Puller encountered failure with status "+n,p.ERROR.ERR_PULL_4XX,t))},e.prototype.assembleEventSourceUrl=function(){var t=this.url.split("?"),e=t[0],n=t[1],r=c.parse(n);return u(r,{clientId:this.clientId,rev:this.currentPullRev,timeout:this.pullInterval,visible:this.visible?1:0,version:v},this.lastEventId),e+"?"+c.stringify(r)},e.prototype.handleServerChanges=function(){return o(this,void 0,void 0,function(){var t,e,n,r,o,a,s=this;return i(this,function(i){switch(i.label){case 0:return this.tracker.canHandleChangesRightNow()?this.isHandling?(this.delayRun(this.handleServerChanges,200),[2]):this.handleServerChangeThrottleDelay>0&&(t=Date.now()-this.lastHandleServerChangeTime)<this.handleServerChangeThrottleDelay?(d("handle server change too often, delay "+t+"ms"),this.delayRun(this.handleServerChanges,t),[2]):(this.isHandling=!0,e=this.changes.concat([]).filter(function(t){return t.rev>s.shared.rev}),this.isRevContinuous(e)||this.emit(p.Event.WARNING,new p.CollaborationError("Changes are not continuous",p.ERROR.ERR_CHANGE_NOT_CONTINUOUS)),this.emit(p.Event.CHANGES,e),this.changes=[],n=this.classifyServerChanges(e),r=n.beforeList,o=n.accept,a=n.afterList,r.length>0?(d("applyChangesToBase (before accept)",r),this.shared.rev=p.last(r).rev,[4,this.tracker.applyChangesToBase(r)]):[3,2]):(this.emit(p.Event.WAITING_FOR_CAN_HANDLE_SERVER_CHANGES),[2]);case 1:i.sent(),i.label=2;case 2:return o?(this.shared.rev=o.rev,d("applyPreparedChangesetToBase (accept)",o),[4,this.tracker.applyPreparedChangesetToBase()]):[3,4];case 3:i.sent(),this.emit(p.Event.ACCEPT_COMMIT),i.label=4;case 4:return a.length>0?(d("applyChangesToBase (after accept)",a),this.shared.rev=p.last(a).rev,[4,this.tracker.applyChangesToBase(a)]):[3,6];case 5:i.sent(),i.label=6;case 6:return this.lastHandleServerChangeTime=Date.now(),this.isHandling=!1,[2]}})})},e.prototype.classifyServerChanges=function(t){var e=[],n=null,r=[];return t.forEach(function(t){t.type!==a.NEW?t.type===a.ACCEPT&&(n=t):n?r.push(t):e.push(t)}),{beforeList:e,accept:n,afterList:r}},e.prototype.isRevContinuous=function(t){if(0===t.length)return!0;if(t[0].rev-this.shared.rev!=1)return!1;for(var e=1;e<t.length;e++)if(t[e].rev-t[e-1].rev!=1)return!1;return!0},e.prototype.initialVisibility=function(){var t=this;this.on("visible",function(e){if(t.visible=e,e&&t.visibilityTimeout)return clearTimeout(t.visibilityTimeout),t.visibilityTimeout=null,void t.pull()})},e}(h.Visible);e.Puller=y},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(650),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?function(t){return s(t,i,"day")||s(t,o,"hour")||s(t,r,"minute")||s(t,n,"second")||t+" ms"}(t):function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],i(n),i(r))}function a(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e){
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
var n=window.setTimeout,r=window.clearTimeout,o=window.XMLHttpRequest,i=window.XDomainRequest,a=window.document,s=window.Promise,u=window.fetch,c=window.Response,l=window.TextDecoder,f=window.TextEncoder,p=window.AbortController;if(void 0==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),void 0!=s&&void 0==s.prototype.finally&&(s.prototype.finally=function(t){return this.then(function(e){return s.resolve(t()).then(function(){return e})},function(e){return s.resolve(t()).then(function(){throw e})})}),void 0!=u){var h=u;u=function(t,e){return s.resolve(h(t,e))}}function d(){this.bitsNeeded=0,this.codePoint=0}void 0==p&&(p=function(){this.signal=null,this.abort=function(){}}),d.prototype.decode=function(t){function e(t,e,n){if(1===n)return t>=128>>e&&t<<e<=2047;if(2===n)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===n)return t>=65536>>e&&t<<e<=1114111;throw new Error}function n(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var r="",o=this.bitsNeeded,i=this.codePoint,a=0;a<t.length;a+=1){var s=t[a];0!==o&&(s<128||s>191||!e(i<<6|63&s,o-6,n(o,i)))&&(o=0,i=65533,r+=String.fromCharCode(i)),0===o?(s>=0&&s<=127?(o=0,i=s):s>=192&&s<=223?(o=6,i=31&s):s>=224&&s<=239?(o=12,i=15&s):s>=240&&s<=247?(o=18,i=7&s):(o=0,i=65533),0===o||e(i,o,n(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&s),0===o&&(i<=65535?r+=String.fromCharCode(i):(r+=String.fromCharCode(55296+(i-65535-1>>10)),r+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,r};void 0!=l&&void 0!=f&&function(){try{return"test"===(new l).decode((new f).encode("test"),{stream:!0})}catch(t){console.log(t)}return!1}()||(l=d);var v=function(){};function y(t){this.withCredentials=!1,this.responseType="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onreadystatechange=v,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=v}function g(t){return t.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+32)})}function m(t){for(var e=Object.create(null),n=t.split("\r\n"),r=0;r<n.length;r+=1){var o=n[r].split(": "),i=o.shift(),a=o.join(": ");e[g(i)]=a}this._map=e}function b(){}function w(t){this._headers=t}function _(){}function E(){this._listeners=Object.create(null)}function C(t){n(function(){throw t},0)}function O(t,e){for(var n in this.type=t,this.target=void 0,e)this.hasOwnProperty(n)||(this[n]=e[n])}function S(t,e){O.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function A(t,e){O.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}y.prototype.open=function(t,e){this._abort(!0);var i=this,a=this._xhr,s=1,u=0;this._abort=function(t){0!==i._sendTimeout&&(r(i._sendTimeout),i._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,a.onload=v,a.onerror=v,a.onabort=v,a.onprogress=v,a.onreadystatechange=v,a.abort(),0!==u&&(r(u),u=0),t||(i.readyState=4,i.onreadystatechange())),s=0};var c=function(){if(1===s){var t=0,e="",n=void 0;if("contentType"in a)t=200,e="OK",n=a.contentType;else try{t=a.status,e=a.statusText,n=a.getResponseHeader("Content-Type")}catch(r){t=0,e="",n=void 0}0!==t&&(s=2,i.readyState=2,i.status=t,i.statusText=e,i._contentType=n,i.onreadystatechange())}},l=function(){if(c(),2===s||3===s){s=3;var t="";try{t=a.responseText}catch(t){}i.readyState=3,i.responseText=t,i.onprogress()}},f=function(){l(),1!==s&&2!==s&&3!==s||(s=4,0!==u&&(r(u),u=0),i.readyState=4,i.onreadystatechange())},p=function(){u=n(function(){p()},500),3===a.readyState&&l()};a.onload=f,a.onerror=f,a.onabort=f,"sendAsBinary"in o.prototype||"mozAnon"in o.prototype||(a.onprogress=l),a.onreadystatechange=function(){void 0!=a&&(4===a.readyState?f():3===a.readyState?l():2===a.readyState&&c())},"contentType"in a&&(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),a.open(t,e,!0),"readyState"in a&&(u=n(function(){p()},0))},y.prototype.abort=function(){this._abort(!1)},y.prototype.getResponseHeader=function(t){return this._contentType},y.prototype.setRequestHeader=function(t,e){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(t,e)},y.prototype.getAllResponseHeaders=function(){return void 0!=this._xhr.getAllResponseHeaders?this._xhr.getAllResponseHeaders():""},y.prototype.send=function(){if("ontimeout"in o.prototype||void 0==a||void 0==a.readyState||"complete"===a.readyState){var t=this._xhr;t.withCredentials=this.withCredentials,t.responseType=this.responseType;try{t.send(void 0)}catch(t){throw t}}else{var e=this;e._sendTimeout=n(function(){e._sendTimeout=0,e.send()},4)}},m.prototype.get=function(t){return this._map[g(t)]},b.prototype.open=function(t,e,n,r,o,i,a){t.open("GET",o);var s=0;for(var u in t.onprogress=function(){var e=t.responseText.slice(s);s+=e.length,n(e)},t.onreadystatechange=function(){if(2===t.readyState){var n=t.status,o=t.statusText,i=t.getResponseHeader("Content-Type"),a=t.getAllResponseHeaders();e(n,o,i,new m(a),function(){t.abort()})}else 4===t.readyState&&r()},t.withCredentials=i,t.responseType="text",a)Object.prototype.hasOwnProperty.call(a,u)&&t.setRequestHeader(u,a[u]);t.send()},w.prototype.get=function(t){return this._headers.get(t)},_.prototype.open=function(t,e,n,r,o,i,a){var c=new p,f=c.signal,h=new l;u(o,{headers:a,credentials:i?"include":"same-origin",signal:f,cache:"no-store"}).then(function(t){var r=t.body.getReader();return e(t.status,t.statusText,t.headers.get("Content-Type"),new w(t.headers),function(){c.abort(),r.cancel().catch(function(){})}),new s(function(t,e){var o=function(){r.read().then(function(e){if(e.done)t(void 0);else{var r=h.decode(e.value,{stream:!0});n(r),o()}}).catch(function(t){e(t)})};o()})}).catch(function(){}).finally(function(){r()})},E.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(void 0!=e)for(var n=e.length,r=0;r<n;r+=1){var o=e[r];try{"function"==typeof o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(t){C(t)}}},E.prototype.addEventListener=function(t,e){t=String(t);var n=this._listeners,r=n[t];void 0==r&&(r=[],n[t]=r);for(var o=!1,i=0;i<r.length;i+=1)r[i]===e&&(o=!0);o||r.push(e)},E.prototype.removeEventListener=function(t,e){t=String(t);var n=this._listeners,r=n[t];if(void 0!=r){for(var o=[],i=0;i<r.length;i+=1)r[i]!==e&&o.push(r[i]);0===o.length?delete n[t]:n[t]=o}},S.prototype=Object.create(O.prototype),A.prototype=Object.create(O.prototype);var k=-1,T=0,x=1,R=2,j=-1,I=0,N=1,P=2,D=3,F=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,L=function(t,e){var n=parseInt(t,10);return n!=n&&(n=e),M(n)},M=function(t){return Math.min(Math.max(t,1e3),18e6)},H=function(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){C(t)}};function U(t,e){E.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this._close=void 0,this.status=0,function(t,e,a){e=String(e);var s=void 0!=a&&Boolean(a.withCredentials),u=M(1e3),c=void 0!=a&&void 0!=a.heartbeatTimeout?L(a.heartbeatTimeout,45e3):M(45e3),l="",f=u,p=!1,h=void 0!=a&&void 0!=a.headers?JSON.parse(JSON.stringify(a.headers)):void 0,d=void 0!=a&&void 0!=a.Transport?a.Transport:void 0!=o&&"withCredentials"in o.prototype||void 0==i?o:i,v=G&&(void 0==a||void 0==a.Transport&&!a.forceXhr)?void 0:new y(new d),g=void 0==v?new _:new b,m=void 0,w=0,E=k,U="",B="",$="",V="",q=I,W=0,J=0,z=function(e,n,r,o,i){if(t.status=e,E===T)if(m=i,200===e&&void 0!=r&&F.test(r)){E=x,p=!0,f=u,t.readyState=x;var a=new A("open",{status:e,statusText:n,headers:o});t.dispatchEvent(a),H(t,t.onopen,a)}else{var s="";200!==e?(n&&(n=n.replace(/\s+/g," ")),s="EventSource's response has a status "+e+" "+n+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(void 0==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",C(new Error(s)),X();var a=new A("error",{status:e,statusText:n,headers:o});t.dispatchEvent(a),H(t,t.onerror,a)}},Y=function(e){if(E===x){for(var o=-1,i=0;i<e.length;i+=1){var a=e.charCodeAt(i);a!=="\n".charCodeAt(0)&&a!=="\r".charCodeAt(0)||(o=i)}var s=(-1!==o?V:"")+e.slice(0,o+1);V=(-1===o?V:"")+e.slice(o+1),""!==s&&(p=!0);for(var h=0;h<s.length;h+=1){var a=s.charCodeAt(h);if(q===j&&a==="\n".charCodeAt(0))q=I;else if(q===j&&(q=I),a==="\r".charCodeAt(0)||a==="\n".charCodeAt(0)){if(q!==I){q===N&&(J=h+1);var d=s.slice(W,J-1),v=s.slice(J+(J<h&&s.charCodeAt(J)===" ".charCodeAt(0)?1:0),h);"data"===d?(U+="\n",U+=v):"id"===d?B=v:"event"===d?$=v:"retry"===d?(u=L(v,u),f=u):"heartbeatTimeout"===d&&(c=L(v,c),0!==w&&(r(w),w=n(function(){Q()},c)))}if(q===I){if(""!==U){l=B,""===$&&($="message");var y=new S($,{data:U.slice(1),lastEventId:B});if(t.dispatchEvent(y),"message"===$&&H(t,t.onmessage,y),E===R)return}U="",$=""}q=a==="\r".charCodeAt(0)?j:I}else q===I&&(W=h,q=N),q===N?a===":".charCodeAt(0)&&(J=h+1,q=P):q===P&&(q=D)}}},K=function(){if(E===x||E===T){E=k,0!==w&&(r(w),w=0),w=n(function(){Q()},f),f=M(Math.min(16*u,2*f)),t.readyState=T;var e=new O("error",{status:t.status});t.dispatchEvent(e),H(t,t.onerror,e)}},X=function(){E=R,void 0!=m&&(m(),m=void 0),0!==w&&(r(w),w=0),t.readyState=R},Q=function(){if(w=0,E===k){p=!1,w=n(function(){Q()},c),E=T,U="",$="",B=l,V="",W=0,J=0,q=I;var t=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==l&&(t+=(-1===e.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(l));var r={Accept:"text/event-stream"};if(void 0!=h)for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(r[o]=h[o]);try{g.open(v,z,Y,K,t,s,r)}catch(t){throw X(),t}}else p||void 0==m?(p=!1,w=n(function(){Q()},c)):(C(new Error("No activity within "+c+" milliseconds. Reconnecting.")),m(),m=void 0)};t.url=e,t.readyState=T,t.withCredentials=s,t._close=X,Q()}(this,t,e)}var G=void 0!=u&&void 0!=c&&"body"in c.prototype;U.prototype=Object.create(E.prototype),U.prototype.CONNECTING=T,U.prototype.OPEN=x,U.prototype.CLOSED=R,U.prototype.close=function(){this._close()},U.CONNECTING=T,U.OPEN=x,U.CLOSED=R,U.prototype.withCredentials=void 0,t.exports=U},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(656),i=function(t){function e(){var e=t.call(this)||this;return o.change(function(t,n){"visible"!==n?"hidden"===n&&e.emit("visible",!1):e.emit("visible",!0)}),e}return r(e,t),e}(n(396).Base);e.Visible=i},function(t,e,n){t.exports=n(657)},function(t,e,n){!function(e){var r=-1,o=function(t){return t.every=function(e,n,o){t._time(),o||(o=n,n=null);var i=r+=1;return t._timers[i]={visible:e,hidden:n,callback:o},t._run(i,!1),t.isSupported()&&t._listen(),i},t.stop=function(e){return!!t._timers[e]&&(t._stop(e),delete t._timers[e],!0)},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change(function(){t._stopRun(),t._wasHidden=t.hidden()}))},t._run=function(n,r){var o,i=t._timers[n];if(t.hidden()){if(null===i.hidden)return;o=i.hidden}else o=i.visible;var a=function(){i.last=new Date,i.callback.call(e)};if(r){var s=new Date-i.last;o>s?i.delay=setTimeout(function(){i.id=setInterval(a,o),a()},o-s):(i.id=setInterval(a,o),a())}else i.id=setInterval(a,o)},t._stop=function(e){var n=t._timers[e];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},t._stopRun=function(e){var n=t.hidden(),r=t._wasHidden;if(n&&!r||!n&&r)for(var o in t._timers)t._stop(o),t._run(o,!n)},t};void 0!==t&&t.exports?t.exports=o(n(554)):o(e.Visibility||n(554))}(window)},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(397),i=n(74),a=o("collab:saveStatus"),s=n(199),u=n(441),c=n(441);e.Status=c.Status;var l=function(t){function e(e){var n=t.call(this)||this;return n.events={CHANGE:"change"},n.beforeSendRequestTime=0,n.timeoutThreshold=e.timeoutThreshold,n.online=e.online||!0,n.status=n.online?u.Status.ONLINE:u.Status.OFFLINE,setTimeout(function(){n.status===u.Status.OFFLINE&&n.emitChange(n.status)},0),n}return r(e,t),e.prototype.onEvent=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];switch(a.apply(void 0,["receive event",t].concat(n)),t){case s.Event.ACCEPT:this.online=!0,this.beforeSendRequestTime=0,clearTimeout(this.saveTimeout),this.online||this.emitChange(u.Status.ONLINE),this.emitChange(u.Status.ONLINE_SAVED);break;case s.Event.ERROR:case s.Event.ACCEPT_FAILED:this.emitChange(u.Status.ONLINE_SAVE_FAILED);break;case s.Event.NEW_CHANGE:this.online?this.emitChange(u.Status.ONLINE_SAVING):this.emitChange(u.Status.OFFLINE_SAVING);break;case s.Event.NEW_CHANGE_SAVE_TO_STORAGE_FAILED:this.online||this.emitChange(u.Status.OFFLINE_SAVE_FAILED);break;case s.Event.NEW_CHANGE_SAVED_TO_STORAGE:this.online||this.emitChange(u.Status.OFFLINE_SAVED);break;case s.Event.BEFORE_SEND_REQUEST:if(this.beforeSendRequestTime)return;this.beforeSendRequestTime=Date.now(),clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(function(){e.online=!1,e.emitChange(u.Status.OFFLINE)},this.timeoutThreshold);break;case s.Event.SERVER_CHANGE_APPLIED:this.online=!0,this.emitChange(u.Status.SERVER_CHANGE_APPLIED);break;case s.Event.WAITING_FOR_CAN_HANDLE_SERVER_CHANGES:clearTimeout(this.saveTimeout);break;case s.Event.NETWORK_CHANGE:var o=n[0];o!==this.online&&(this.online=o,this.emitChange(o?u.Status.ONLINE:u.Status.OFFLINE))}},e.prototype.destroy=function(){clearTimeout(this.saveTimeout)},e.prototype.emitChange=function(t){a("saveStatus changed to",t),this.status=t,this.emit(this.events.CHANGE,t)},e.events={CHANGE:"change"},e}(i.EventEmitter);e.SaveStatus=l},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(555),s=n(397),u=n(199),c=n(678),l=s("collab:sender"),f=function(t){function e(e){var n=t.call(this,{offlineTimeoutInMS:2.5*(e.retryInterval||5e3)})||this;return n.retryInterval=5e3,n.url=e.url,n.clientId=e.clientId,n.tracker=e.tracker,n.shared=e.shared,e.retryInterval&&(n.retryInterval=e.retryInterval),n}return r(e,t),e.prototype.start=function(){var t=this;this.tracker.setUserChangeNotificationCallback(function(){return o(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.compose()];case 1:return t.sent(),[2]}})})})},e.prototype.stop=function(){this.tracker.setUserChangeNotificationCallback(u.noop)},e.prototype.destroy=function(){this.stop(),this.superDestroy()},e.prototype.compose=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(r){switch(r.label){case 0:return t=this.shared.rev,[4,this.tracker.prepareUserChangeset()];case 1:return e=r.sent(),l("send compose request",this.clientId,this.shared.rev,e),e?(n={changeset:e.changeset,clientId:this.clientId,rev:t,uuid:e.uuid},[4,this.sendRequest(n)]):[2];case 2:return r.sent(),[2]}})})},e.prototype.sendRequest=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var e,n,r,o=this;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.emit(u.Event.BEFORE_SEND_REQUEST),[4,a.default({data:t,method:"post",url:this.url})];case 1:return i.sent(),this.emit(u.Event.SEND_REQUEST_DONE),this.updateNetworkStatus(!0),[3,3];case 2:return e=i.sent(),l("send request error",e.response),n=e.response,this.updateNetworkStatus(Boolean(n)),"4"===String(n&&n.status)[0]?(r=new u.CollaborationError("Sender request error",u.ERROR.ERR_SENDER,e),this.emit(u.Event.ACCEPT_FAILED,r),this.emit(u.Event.ERROR,r),[2]):(this.emit(u.Event.SEND_REQUEST_FAILED),setTimeout(function(){o.sendRequest(t,!0)},this.retryInterval),[3,3]);case 3:return[2]}})})},e}(c.NetworkDetectable);e.Sender=f},function(t,e,n){"use strict";var r=n(172),o=n(556),i=n(662),a=n(442);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(560),u.CancelToken=n(676),u.isCancel=n(559),u.all=function(t){return Promise.all(t)},u.spread=n(677),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(442),o=n(172),i=n(671),a=n(672);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(172);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(558);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(172);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(172),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(172);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),a="",s=0,u=r;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;e=e<<8|n}return a}},function(t,e,n){"use strict";var r=n(172);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(172);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(172),o=n(673),i=n(559),a=n(442),s=n(674),u=n(675);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(172);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(560);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(396),a=n(199);!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ONLINE=1]="ONLINE",t[t.OFFLINE=2]="OFFLINE"}(o||(o={}));var s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.ns=o.UNKNOWN,n.offlineTimeoutInMS=5e3,e.offlineTimeoutInMS&&(n.offlineTimeoutInMS=e.offlineTimeoutInMS),n}return r(e,t),e.prototype.updateNetworkStatus=function(t){var e=this,n=t?o.ONLINE:o.OFFLINE;if(n===o.ONLINE)return this.offlineTimeout&&(clearTimeout(this.offlineTimeout),this.offlineTimeout=null),void(this.ns!==n&&(this.ns=n,this.emit(a.Event.NETWORK_CHANGE,!0)));if(n===o.OFFLINE){if(this.offlineTimeout)return;if(this.ns===n)return;this.offlineTimeout=setTimeout(function(){e.ns=n,e.emit(a.Event.NETWORK_CHANGE,!1),e.offlineTimeout=null},this.offlineTimeoutInMS)}},Object.defineProperty(e.prototype,"online",{get:function(){return this.ns===o.ONLINE},enumerable:!0,configurable:!0}),e}(i.Base);e.NetworkDetectable=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(680),s=n(396),u=n(199),c="modoc",l=function(t){function e(e){var n=t.call(this)||this;if(n.type=c,n.changeCallback=u.noop,n.isWaitingForReadyToHandleChange=!1,n.onReadyToHandleChanges=function(){n.isWaitingForReadyToHandleChange&&(n.isWaitingForReadyToHandleChange=!1,n.emit("readyToHandleChanges"))},n.onChange=function(t){return o(n,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return"string"==typeof t&&(t=this.adaptor.unpack(t)),this.userChange.delta=this.userChange.delta.compose(t),this.emit(u.Event.NEW_CHANGE),[4,this.saveData(u.Event.NEW_CHANGE_SAVED_TO_STORAGE,u.Event.NEW_CHANGE_SAVE_TO_STORAGE_FAILED)];case 1:return e.sent(),this.committingChange.delta.length||!this.userChange.delta.length?[3,3]:[4,this.changeCallback()];case 2:e.sent(),e.label=3;case 3:return this.isWaitingForReadyToHandleChange&&this.onReadyToHandleChanges(),[2]}})})},n.editor=e.editor,n.editor.on("readyToHandleChanges",n.onReadyToHandleChanges),e.storage&&(n.storage=e.storage),e.type&&(n.type=e.type.toLowerCase()),n.adaptor=e.adaptors?e.adaptors[n.type]:a.adaptors[n.type],!n.adaptor)throw new Error("options.type must be modoc or richdoc");var r=e.committingChange&&e.committingChange.uuid,s=e.committingChange?n.adaptor.unpack(e.committingChange.delta):n.adaptor.empty(),l=e.userChange&&e.userChange.uuid,f=e.userChange?n.adaptor.unpack(e.userChange.delta):n.adaptor.empty();if(0===s.length&&f.length>0){var p=s;s=f,f=p;var h=r;r=l,l=h}n.committingChange={delta:s,uuid:r||u.uuid()},n.userChange={delta:f,uuid:l||u.uuid()};var d=n.editor.constructor;return n.editor.on(d.events.CHANGE,n.onChange),n}return r(e,t),e.prototype.prepareUserChangeset=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.committingChange.delta.length>0?[2,{changeset:this.adaptor.pack(this.committingChange.delta),uuid:this.committingChange.uuid}]:(this.committingChange=this.userChange,this.userChange={delta:this.adaptor.empty(),uuid:u.uuid()},[4,this.saveData()]);case 1:return t.sent(),0===this.committingChange.delta.length?[2,null]:[2,{changeset:this.adaptor.pack(this.committingChange.delta),uuid:this.committingChange.uuid}]}})})},e.prototype.canHandleChangesRightNow=function(){if(!this.editor.canHandleChanges)return!0;var t=this.editor.canHandleChanges();return t||(this.isWaitingForReadyToHandleChange=!0),t},e.prototype.applyPreparedChangesetToBase=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.committingChange.delta.length?(this.committingChange={delta:this.adaptor.empty(),uuid:u.uuid()},this.emit(u.Event.ACCEPT),[4,this.changeCallback()]):(this.emit(u.Event.WARNING,"No submitted changes to apply"),[2]);case 1:return t.sent(),[2]}})})},e.prototype.applyChangesToBase=function(t){return o(this,void 0,void 0,function(){var e,n,r,o,a,s,c,l,f,p,h;return i(this,function(i){switch(i.label){case 0:if(0===t.length)return[2];for(n=0,r=t;n<r.length;n++)p=r[n],o=this.adaptor.unpack(p.changeset),a=o.transform(this.committingChange.delta,!1),s=this.committingChange.delta.transform(o,!0).transform(this.userChange.delta,!0),c=this.userChange.delta.transform(this.committingChange.delta.transform(o,!0)),e=e?e.compose(c):c,this.emit(u.Event.SERVER_CHANGE_PROCESSED,{change:c}),this.committingChange.delta=a,this.userChange.delta=s;return[4,this.saveData()];case 1:for(i.sent(),l=0,f=t;l<f.length;l++)p=f[l],this.emit(u.Event.SERVER_CHANGE_APPLIED,p);i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.editor.applyChange(e)];case 3:return i.sent(),[3,5];case 4:return h=i.sent(),this.emit(u.Event.ERROR,new u.CollaborationError("Apply change to editor error",u.ERROR.ERR_APPLY_CHANGE,h)),[3,5];case 5:return[2]}})})},e.prototype.setUserChangeNotificationCallback=function(t){this.changeCallback=t,this.changeCallback()},e.prototype.destroy=function(){var t=this.editor.constructor;this.editor.off(t.events.CHANGE,this.onChange),this.editor.off("readyToHandleChanges",this.onReadyToHandleChanges)},e.prototype.getData=function(){return{committingChange:{delta:this.adaptor.pack(this.committingChange.delta),uuid:this.committingChange.uuid},userChange:{delta:this.adaptor.pack(this.userChange.delta),uuid:this.userChange.uuid}}},e.prototype.saveData=function(t,e){return o(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:if(!this.storage)return[3,4];n=this.getData(),r=this.storage.set(),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r(n)];case 2:return i.sent(),t&&this.emit(t),[3,4];case 3:return o=i.sent(),this.emit(u.Event.ERROR,new u.CollaborationError("Save data to storage error",u.ERROR.ERR_STORAGE_SET,o)),e&&this.emit(e),[3,4];case 4:return[2]}})})},e}(s.Base);e.Tracker=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(681),o=n(693);e.adaptors={modoc:r,richdoc:o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(561);e.empty=function(){return new r.Delta([])},e.pack=function(t){return t.stringify()},e.unpack=function(t){return r.Delta.isDelta(t)?t:new r.Delta(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(398),o=n(563),i=n(443),a=n(444),s=n(685),u=n(566),c=function(){function t(t,e){if(this[i.TYPE_PROPERTY]="Delta",Array.isArray(t)){var n=new r.default;o.default.isPool(e)&&0!==t.length||(e=new o.default);for(var s=0,u=t;s<u.length;s++){var c=u[s],l="remove"===c.action?"":e.packAttributes(c.attributes);n.push(new a.default({action:c.action,data:c.data,pool:e,packedAttributes:l}))}this.ops=n.stringify(!0),this.pool=e}else if(void 0===e){var f=t.indexOf(":");if(f<=0)throw new Error("Invalid delta: "+t);var p=parseInt(t.substring(0,f),36),h=f+1+p;this.ops=t.substring(f+1,h),this.pool=0===p||t.length===h?new o.default:new o.default(t.substring(f+p+1))}else this.ops=t,this.pool=""===t?new o.default:e}return t.prototype.isEmpty=function(){return 0===this.ops.length},t.prototype.getIter=function(t){var e=void 0===t?{}:t,n=e.targetPool,r=e.sourcePool;return new s.default(this.ops,r||this.pool,n||this.pool,a.default)},Object.defineProperty(t.prototype,"length",{get:function(){for(var t=this.getIter(),e=0;t.hasNext();)e+=t.peekLength(),t.skip();return e},enumerable:!0,configurable:!0}),t.prototype.getPoolCopy=function(){return this.pool.clone()},t.prototype.map=function(e){for(var n=[],r=this.getIter();r.hasNext();)n.push(e(r.next()));return new t(n)},t.prototype.compose=function(e,n){var o=this.getPoolCopy(),i=new r.default([]),a=this.getIter({sourcePool:o,targetPool:o});Array.isArray(e)&&(e=new t(e,o));for(var s=e.getIter({targetPool:o});;){var u=a.hasNext(),c=s.hasNext();if(!u&&!c)break;if(!c)return new t(a.remainingStrs(i),o);if(!u&&s.isPoolCompatible())return new t(s.remainingStrs(i),o);if("insert"===s.peekAction())i.push(s.next());else if("remove"===a.peekAction())i.push(a.next());else{var l=Math.min(a.peekLength(),s.peekLength()),f=u?a.next(l):null,p=s.next(l);"retain"===p.action?i.push(f?f.compose(p,void 0===n?"insert"===f.action:n):p):f&&"retain"!==f.action||i.push(p)}}return new t(i.stringify(!0),o)},t.prototype.transform=function(e,n){void 0===n&&(n=!1),Array.isArray(e)&&(e=new t(e));for(var o=e.getPoolCopy(),i=new r.default,s=this.getIter(),u=e.getIter({sourcePool:o,targetPool:o});u.hasNext();){if(!s.hasNext())return new t(u.remainingStrs(i),o);if("insert"!==s.peekAction()||!n&&"insert"===u.peekAction())if("insert"===u.peekAction())i.push(u.next());else{var c=Math.min(s.peekLength(),u.peekLength()),l=s.next(c),f=u.next(c);if("remove"===l.action)continue;"remove"===f.action?i.push(f):i.push(l.transform(f,n))}else i.push(new a.default({action:"retain",data:s.peekLength()})),s.skip()}return new t(i.stringify(!0),o)},t.prototype.invert=function(e,n){for(var i=new o.default,s=new r.default,u=this.getIter({targetPool:i}),c=(Array.isArray(e)?new t(e,new o.default):e).getIter({targetPool:i});c.hasNext();)if("insert"===c.peekAction())s.push(new a.default({action:"remove",data:c.peekLength()})),c.skip();else{if(!u.hasNext())throw new Error("Delta should be smaller than document");if("insert"!==u.peekAction())throw new Error("Only document can invert deltas");var l=Math.min(u.peekLength(),c.peekLength()),f=c.next(l),p=u.next(l);"remove"===f.action?s.push(p):s.push(n?n(p,f):p.invert(f))}return new t(s.stringify(!0),i)},t.prototype.stringify=function(){return this.isEmpty()?"0:":this.ops.length.toString(36)+":"+this.ops+this.pool.stringify()},t.prototype.toJSON=function(){for(var t=[],e=this.getIter();e.hasNext();)t.push(e.next().toJSON());return t},t.prototype.explain=function(t){void 0===t&&(t="");for(var e=t+"Delta #"+this.ops.length+":\n",n=this.getIter();n.hasNext();)e+=n.next().explain(t+"  ");return""+e+t+"Pool: "+this.pool.stringify()+"\n"},t.prototype.validateTable=function(){for(var t={},e=this.getIter();e.hasNext();){var n=e.next();if("table"===n.dataType){var r=n.getAttributes().name;if("string"!=typeof r)continue;var o="$$"+r+"$$";if(t.hasOwnProperty(o))throw new Error("Duplicated table name found: "+r);t[o]=!0}}return this},t.isDelta=u.isDelta,t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keyToGul={color:"0",background:"1","font-size":"2",width:"3",height:"4",rowspan:"5",colspan:"6",align:"7",bold:"8",italic:"9",underline:"a",vertical:"b",strike:"c",wrap:"d",fixedRowsTop:"e",fixedColumnsLeft:"f",link:"g",format:"h",formula:"i",filter:"j","border-top":"k","border-right":"l","border-bottom":"m","border-left":"n",line:"o",guid:"p",author:"q",size:"r",list:"s",layout:"t",margin:"u",font:"v",header:"w",indent:"x",comment:"y","comment-block":"z","code-block":"A",name:"B",order:"C",autoFit:"D",userID:"E",nextIndex:"F",id:"G",colVisible:"H",rowVisible:"I",autoFormatter:"J",copyIndex:"K",manualAlign:"L",lock:"M",left:"N",top:"O"};var r=["color","background","font-size","width","height","rowspan","colspan","align","bold","italic","underline","vertical","strike","wrap","fixedRowsTop","fixedColumnsLeft","link","format","formula","filter","border-top","border-right","border-bottom","border-left","line","guid","author","size","list","layout","margin","font","header","indent","comment","comment-block","code-block","name","order","autoFit","userID","nextIndex","id","colVisible","rowVisible","autoFormatter","copyIndex","manualAlign","lock","left","top"];function o(t){var e,n=t.charCodeAt(0);if(n>=48&&n<=57)e=r[n-48];else if(n>=65&&n<=90)e=r[n-29];else{if(!(n>=97&&n<=122))throw new Error('Unknown gul "'+t+'"');e=r[n-87]}return e}function i(t){var n=e.keyToGul[t];if(n)return n;var r=t.length.toString(36),o=r.length;if(o>2)throw new Error("Key length of attribute should <= 2: "+r);return""+(1===o?"$":"%")+r+t}e.getAttributeKeyByGul=o,e.getGulByAttributeKey=i,e.combinedAttributeWithValue=function(t,e){var n=i(t);return"string"==typeof e?n+":"+e:"number"==typeof e?n+"*"+e.toString():"boolean"==typeof e?n+(e?"1":"0"):n},e.keyValueToGul={81:"!","2*12":'"',"2*11":"#","2*10":"$","2*9":"%","2*8":"&","6*2":"'","6*3":"(","6*4":")","5*2":"*","5*3":"+","5*4":",","0:#ff0000":"-","0:#ffffff":".","b:bottom":"/","h:normal":"0",1:"1","1:#ffffff":"2","1:#ff0000":"3","1:#ffff00":"4","1:#00ffff":"5","7:left":"6","7:center":"7","7:right":"8","1*4":"9","d:text-wrap":":","d:text-no-wrap":";","h:YYYY/MM/DD":"<",'l:["",1]':"=",'n:["",1]':">",'k:["",1]':"?",'m:["",1]':"@",'l:["#2b2b2b",1]':"A",'n:["#2b2b2b",1]':"B",'k:["#2b2b2b",1]':"C",'m:["#2b2b2b",1]':"D"};var a=[["bold",!0],["font-size",12],["font-size",11],["font-size",10],["font-size",9],["font-size",8],["colspan",2],["colspan",3],["colspan",4],["rowspan",2],["rowspan",3],["rowspan",4],["color","#ff0000"],["color","#ffffff"],["vertical","bottom"],["format","normal"],["background",null],["background","#ffffff"],["background","#ff0000"],["background","#ffff00"],["background","#00ffff"],["align","left"],["align","center"],["align","right"],["background",4],["wrap","text-wrap"],["wrap","text-no-wrap"],["format","YYYY/MM/DD"],["border-right",'["",1]'],["border-left",'["",1]'],["border-top",'["",1]'],["border-bottom",'["",1]'],["border-right",'["#2b2b2b",1]'],["border-left",'["#2b2b2b",1]'],["border-top",'["#2b2b2b",1]'],["border-bottom",'["#2b2b2b",1]']];e.getGulByCombinedKeyValue=function(t){return e.keyValueToGul.hasOwnProperty(t)?e.keyValueToGul[t]:null},e.getKeyValueByGul=function(t){var e=t.charCodeAt(0)-33;return a[e]},e.parseCombinedAttributeValue=function(t){var e;if("$"===t[0]){var n=parseInt(t[1],36);e=t.substring(2,2+n),t=t.substring(1+n)}else"%"===t[0]?(n=parseInt(t[1]+t[2],36),e=t.substring(3,3+n),t=t.substring(2+n)):e=o(t[0]);if(1===t.length)return[e,null];var r=t[1];if("1"===r)return[e,!0];if("0"===r)return[e,!1];var i=t.substring(2);return[e,":"===r?i:Number(i)]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.objectToKeyPaths=function t(e,n,r){void 0===r&&(r=[]);for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],s=e[a],u=n+"."+a;"object"==typeof s&&null!==s?t(s,u,r):r.push([u,s])}return r},e.keyPathToObject=function(t,e,n){for(var r=e.split("."),o=r.length,i=1;i<o-1;i++){var a=r[i],s=t[a];t="object"==typeof s&&null!==s?s:t[a]={}}t[r[o-1]]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(564),o=n(398),i=function(){function t(t,e,n,r){this.ops=t,this.pool=e,this.targetPool=n,this.operatorConstructor=r,this.cursor=0,this.offset=0}return t.prototype.isPoolCompatible=function(){return void 0===this.isCompatible&&(this.isCompatible=this.pool.isSubsetOf(this.targetPool)),this.isCompatible},t.prototype.hasNext=function(){return this.cursor<this.ops.length},t.prototype.remainingStrs=function(t){for(;this.hasNext();){var e=this.next();if(t.push(e)!==o.PushResult.REORDERED){var n=this.cursor;return this.cursor=this.ops.length,this.nextData=void 0,t.stringify()+this.ops.substring(n)}}return t.stringify(!0)},t.prototype.skip=function(t){void 0===t&&(t=1/0);var e=this.peekNext();if(null===e)throw new Error("No more operators");var n,r=this.offset;return t+r>=e.dataLength?(n=e.dataLength-r,this.nextData=void 0,this.cursor=e.opIndex+e.opLength,this.offset=0):(n=t,this.offset+=n),[n,r,e]},t.prototype.next=function(t,e){void 0===t&&(t=1/0);var n,o=this.skip(t),i=o[0],a=o[1],s=o[2];switch(s.dataType){case"number":n=i;break;case"string":n=this.ops.substring(s.dataIndex+1+a,s.dataIndex+1+a+i);break;default:var u=this.ops[s.dataIndex+1+a],c=this.ops.substring(s.dataIndex+1+1,s.dataIndex+1+s.actualLength);(f={})[r.initialToObjectKey[u]]=c,n=f}var l,f,p=this.ops.substring(s.dataIndex+1+s.actualLength,s.opIndex+s.opLength),h=this.targetPool,d=""!==p&&!this.isPoolCompatible();return 0!==a||i!==s.dataLength||d||(l=this.ops.substring(s.opIndex,s.dataIndex+1+s.actualLength)),d&&(p=h.packAttributes(this.pool.unpackAttributes(p))),new this.operatorConstructor({action:e||s.action,data:n,packedAttributes:p,pool:h},l)},t.prototype.peekAction=function(){var t=this.peekNext();return null===t?"retain":t.action},t.prototype.peekLength=function(){var t=this.peekNext();return null===t?1/0:t.dataLength-this.offset},t.prototype.peekNext=function(){if(!this.hasNext())return null;if(void 0===this.nextData){var t=void 0,e=void 0;e=this.cursor+1;for(var n=this.ops.length;e<n;){switch(this.ops[e]){case"!":t="insert";break;case"@":t="retain";break;case"#":t="remove"}if(void 0!==t)break;e+=1}var r=e,o=parseInt(this.ops.substring(this.cursor,r),36);e=r+1;for(var i=void 0;e<n;){switch(this.ops[e]){case"!":i="string";break;case"#":i="number";break;case"@":i="object"}if(void 0!==i)break;e+=1}var a=e,s=parseInt(this.ops.substring(r+1,a),36),u="number"===i?0:s,c="object"===i?1:s;this.nextData={action:t,dataIndex:a,dataLength:c,opIndex:r,opLength:o,dataType:i,actualLength:u}}return this.nextData},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(687),o=n(689),i=n(690),a=n(691),s=n(692),u=n(568);e.registerDataHandlers=function(t,e,n){var c=function(t,e){return function(n){return new n(t,e)}}(e,n);t.registerDataHandler("delta",c(o.default)),t.registerDataHandler("table",c(r.default)),t.registerDataHandler("presentation",c(a.default)),t.registerDataHandler("slide",c(i.default)),t.registerDataHandler("mindmap",c(i.default)),t.registerDataHandler("object",c(s.default)),t.registerDataHandler("form",c(u.default))}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(567),i=n(688),a=n(333),s=n(561),u=n(398),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.pack=function(t){var e=t.rows,n=t.cols,r=o.possibleDeltaInputToString(this.deltaConstructor,e),i=o.possibleDeltaInputToString(this.deltaConstructor,n);return r.length.toString(36)+"$"+r+i},e.prototype.toJSON=function(t){var e=this.parse(t),n=e[0],r=e[1];return{rows:null===n?null:n.toJSON(),cols:null===r?null:r.toJSON()}},e.prototype.explain=function(t,e){var n=t+"Rows:\n",r=this.parse(e),o=r[0],i=r[1];return n+=null===o?"[EMPTY]":o.explain(t),n+=t+"Cols:\n",n+=null===i?"[EMPTY]":i.explain(t)},e.prototype.parse=function(t){var e=t.indexOf("$"),n=parseInt(t.substring(0,e),36),r=e+1+n;return[0===n?null:new this.deltaConstructor(t.substring(e+1,r)),t.length===r?null:new this.deltaConstructor(t.substring(r))]},e.prototype.compose=function(t,e,n){var r=this.parse(t),o=r[0],a=r[1],s=this.parse(e),u=s[0],c=s[1],l=null===u?o:null===o?u:o.compose(u,n),f=i.reindexInnerDeltas(a,u),p=null===c?f:null===f?c:f.compose(c,n);return this.pack({rows:l,cols:p})},e.prototype.transform=function(t,e,n){var r=this.parse(t),o=r[0],a=r[1],s=this.parse(e),u=s[0],c=s[1],l=null===o||null===u?u:o.transform(u,n),f=null===o||null===u?o:u.transform(o,!n),p=i.reindexInnerDeltas(a,l),h=i.reindexInnerDeltas(c,f),d=null===p||null===h?h:p.transform(h,n);return this.pack({rows:l,cols:d})},e.prototype.invert=function(t,e){var n=this,r=this.parse(t),o=r[0],a=r[1],c=this.parse(e),l=c[0],f=c[1],p=l&&(null===o?new this.deltaConstructor([]):o).invert(l),h=i.invertInnerDeltas(a,l);if(null!==f){if(null===a)throw new Error("Invert a table without cols");if(h){var d=i.DeltaToIndexModifiers(f);h=i.reindexDelta(h,d)}var v=i.reindexInnerDeltas(f,p);if(null===v)throw new Error("ASSERT: targetCols === null");var y=a.invert(v,function(t,e){if("delta"!==e.dataType)return t.invert(e);for(var r=new s.Pool,o=new u.default([]),i="number"===t.dataType?null:new n.deltaConstructor(t.getCustomData()).getIter({targetPool:r}),a=new n.deltaConstructor(e.getCustomData()).getIter({targetPool:r});a.hasNext();){var c=void 0,l=void 0;if(null!==i&&i.hasNext()){var f=Math.min(i.peekLength(),a.peekLength());c=i.next(f,"insert"),l=a.next(f)}else{var p=a.peekLength();c=new n.operatorConstructor({action:"insert",data:p}),l=a.next()}o.push(c.invert(l))}return t.invert(e,{delta:new n.deltaConstructor(o.stringify(!0),r).stringify()})});h=h?h.compose(y):y}return this.pack({rows:p,cols:h})},e}(a.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(398),o=n(562),i=n(444);function a(t){for(var e=[],n=-1,r=t.getIter();r.hasNext();){var o=r.next(),i=o.action,a=o.length;-1!==n&&e[n][0]===i?e[n][1]+=a:e[++n]=[i,a]}return e}function s(t,e){for(var n=t.getPoolCopy(),a=new r.default([]),s=t.getIter({sourcePool:n,targetPool:n}),u=new Array(e.length),c=0;c<e.length&&s.hasNext();c++){var l=u[c]||e[c],f=l[0],p=l[1];switch(f){case"insert":a.push(new i.default({action:"retain",data:p,packedAttributes:"",pool:n}));break;case"retain":(h=s.peekLength())>=p?a.push(s.next(p)):(a.push(s.next()),u[c]=["retain",p-h],c-=1);break;case"remove":var h;(h=s.peekLength())>=p?s.skip(p):(s.skip(),u[c]=["remove",p-h],c-=1)}}for(;s.hasNext();)a.push(s.next());return new o.Delta(a.stringify(!0),n)}e.DeltaToIndexModifiers=a,e.reindexDelta=s,e.reindexInnerDeltas=function(t,e){if(null===t||null===e)return t;var n=a(e);return 0===n.length?t:t.map(function(t){var e={action:t.action,data:t.data};if("remove"!==e.action&&t.hasAttributes()&&(e.attributes=t.getAttributes()),"delta"===t.dataType){var r=s(new o.Delta(t.getCustomData()),n);e.data=r.isEmpty()?1:{delta:r.stringify()}}else e.data=t.data;return e})},e.invertInnerDeltas=function(t,e){if(null===t||null===e)return null;for(var n=a(e),s=!1,u=0,c=n;u<c.length;u++)if("remove"===c[u][0]){s=!0;break}return s?t.map(function(t){var e={action:"retain",data:t.data};if(t.hasAttributes()&&(e.attributes=t.getAttributes()),"delta"===t.dataType){var a=function(t,e){for(var n=t.getPoolCopy(),a=new r.default([]),s=t.getIter({sourcePool:n,targetPool:n}),u=new Array(e.length),c=0;c<e.length&&s.hasNext();c++){var l=u[c]||e[c],f=l[0],p=l[1];switch(f){case"retain":var h=s.peekLength(),d=Math.min(p,h);a.push(new i.default({action:"retain",data:d,packedAttributes:"",pool:n})),s.skip(d),h<p&&(u[c]=["retain",p-h],c-=1);break;case"remove":(h=s.peekLength())>=p?a.push(s.next(p)):(a.push(s.next()),u[c]=["remove",p-h],c-=1)}}for(var v=0;s.hasNext();)v+=s.peekLength(),s.skip();return v>0&&a.push(new i.default({action:"retain",data:v,packedAttributes:"",pool:n})),new o.Delta(a.stringify(!0),n)}(new o.Delta(t.getCustomData()),n);e.data=a.isEmpty()?1:{delta:a.stringify()}}else e.data=t.data;return e}):null}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(333),i=n(566),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(t,e,n){return this.parse(t).compose(this.parse(e),n).stringify()},e.prototype.transform=function(t,e,n){return this.parse(t).transform(this.parse(e),n).stringify()},e.prototype.invert=function(t,e){return this.parse(t).invert(this.parse(e)).stringify()},e.prototype.parse=function(t){return new this.deltaConstructor(t)},e.prototype.pack=function(t){if(Array.isArray(t))return new this.deltaConstructor(t).stringify();if(i.isDelta(t))return t.stringify();throw new Error("Unsupported delta value for packing "+t)},e.prototype.toJSON=function(t){return this.parse(t).toJSON()},e.prototype.explain=function(t,e){return this.parse(e).explain(t)},e}(o.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(t,e,n){for(var r=this.parse(t),o=this.parse(e),i=0,a=Object.keys(o);i<a.length;i++){var s=a[i],u=r[s],c=o[s];r[s]=void 0===u?c:u.compose(c,n)}return this.pack(r)},e.prototype.transform=function(t,e,n){for(var r=this.parse(t),o=this.parse(e),i=0,a=Object.keys(o);i<a.length;i++){var s=a[i],u=r[s];if(void 0!==u){var c=o[s];o[s]=u.transform(c,n)}}return this.pack(o)},e.prototype.invert=function(t,e){for(var n=this.parse(t),r=this.parse(e),o=0,i=Object.keys(r);o<i.length;o++){var a=i[o],s=n[a]||new this.deltaConstructor([]);r[a]=s.invert(r[a])}return this.pack(r)},e.prototype.parse=function(t){for(var e={},n=0;n<t.length;){var r=t.substring(n,n+8),o=t.indexOf("#",n+8),i=parseInt(t.substring(n+8,o),36),a=new this.deltaConstructor(t.substring(o+1,o+1+i));e[r]=a,n=o+1+i}return e},e.prototype.pack=function(t){for(var e="",n=0,r=Object.keys(t).sort();n<r.length;n++){var o=r[n];if(8!==o.length)throw new Error("element id length must equal to 8, got "+o);var i=t[o],a=Array.isArray(i)?new this.deltaConstructor(i):i;if(a.getIter().hasNext()){var s=a.stringify();e+=""+o+s.length.toString(36)+"#"+s}}return e},e.prototype.toJSON=function(t){for(var e={},n=this.parse(t),r=0,o=Object.keys(n);r<o.length;r++){var i=o[r],a=n[i];e[i]=a.toJSON()}return e},e.prototype.explain=function(t,e){for(var n=t+"Elements:\n",r=this.parse(e),o=0,i=Object.keys(r);o<i.length;o++){n+=r[i[o]].explain(t)}return n},e}(n(333).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.pack=function(e){return t.prototype.pack.call(this,Array.isArray(e)?e:[e.slides,e.layouts,e.notes])},e.prototype.toJSON=function(e){var n=t.prototype.toJSON.call(this,e);return{slides:n[0],layouts:n[1],notes:n[2]}},e.prototype.explain=function(t,e){var n=t+"Slides:\n",r=this.parse(e),o=r[0],i=r[1],a=r[2];return n+=o?o.explain(t):"[EMPTY]",n+=t+"Layouts:\n",n+=i?i.explain(t):"[EMPTY]",n+=t+"Notes:\n",n+=a?a.explain(t):"[EMPTY]"},e}(n(568).default);e.default=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(333),i=n(565),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.compose=function(t,e,n){return this.pack(i.merge(this.parse(t),this.parse(e),!n),n)},e.prototype.transform=function(t,e,n){return this.pack(i.transform(this.parse(t),this.parse(e),n),!1)},e.prototype.invert=function(t,e){return this.pack(i.invert(this.parse(t),this.parse(e)),!1)},e.prototype.parse=function(t){return JSON.parse(t)},e.prototype.pack=function(t,e){return e?JSON.stringify(t,function(t,e){return null===e?void 0:e}):JSON.stringify(t)},e.prototype.toJSON=function(t){return this.parse(t)},e.prototype.explain=function(t,e){return JSON.stringify(this.parse(e),null,t)},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(694);e.empty=function(){return new r.Delta},e.pack=function(t){return r.pack(t)},e.unpack=function(t){return function(t,e){return t instanceof e}(t,r.Delta)?t:r.unpack(t)}},function(t,e,n){"use strict";var r=n(222),o=n(245);e.Attribute=n(399),e.Delta=n(400);var i={TableOperator:n(695),CellOperator:n(569),TextOperator:n(697),Operator:n(401)};r(e,i),e.pack=function(t){if("function"==typeof t.toJSON)return JSON.stringify(t);throw new Error("Only delta can be packed")},e.unpack=function(t){return e.Delta.unpack(JSON.parse(t))},e.print=function(t){t.print(!0)};var a=o(Object.keys(i),function(t,e){var n=i[e];return t[n.packId]=n,t},{});function s(t){var e=t[0].toString(),n=e[e.length-1];return a[e.slice(0,e.length-1)].unpack([n,t[1],t[2]])}e.Delta.operatorUnpacker=s,Object.keys(i).forEach(function(t){i[t].operatorUnpacker=s});var u=n(272);e.parsePosition=u.parsePosition,e.stringifyPosition=u.stringifyPosition},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=n(401),u=n(400),c=n(272),l=n(696),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),o(e,[{key:"freeze",value:function(){c.freeze(this.data),c.freeze(this.data.rows),c.freeze(this.data.cols)}},{key:"name",value:function(){return"TableOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return{table:this.data}}},{key:"skipDiff",value:function(){return!0}},{key:"_genericSet",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_genericSet",this).call(this,t),r=n.changed,o=n.op;if("object"==typeof o.data){if(o.data.rows||(o.data.rows=new u),o.data.cols||(o.data.cols=new u),o.data.cells||(o.data.cells={}),"function"!=typeof o.data.cells.name&&(o.data.cells=new l({action:o.action,cells:o.data.cells})),"function"!=typeof o.data.rows.pack)throw new Error("rows should be a Delta");if("function"!=typeof o.data.cols.pack)throw new Error("cols should be a Delta");"retain"===o.action&&o.data.rows.isEmpty()&&o.data.cols.isEmpty()&&!Object.keys(o.data.cells).length&&(o.data=1)}if("insert"===o.action){if(!o.data.rows.isDocument())throw new Error("rows should be a document");if(!o.data.cols.isDocument())throw new Error("cols should be a document")}return{changed:r,op:o}}},{key:"pack",value:function(){var t=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"pack",this).call(this);if("object"==typeof t[1]){var n=t[1],r=n.cells,o=n.rows,a=n.cols;if(t[1]=[r.pack()],o.isEmpty()&&a.isEmpty())return t;a.isEmpty()?t[1].push(o.pack()):(t[1].push(o.isEmpty()?0:o.pack()),t[1].push(a.pack()))}return t}},{key:"compose",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"compose",this).call(this,t);if("number"==typeof this.data||"number"==typeof t.data)return n;var r={rows:n.data.rows.compose(t.data.rows),cols:n.data.cols.compose(t.data.cols)},o=new l({cells:n.data.cells,action:n.action});return o.composeWithMutations(t.data),t.data.cells.forEach(function(e){var n=o.get(e),r=t.data.cells.get(e);o.set(e,n.compose(r))}),r.cells=o,n.set({data:r})}},{key:"invert",value:function(t){var n=this,r=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"invert",this).call(this,t);if("number"==typeof this.data||"number"==typeof t.data)return r;var o={rows:this.data.rows.invert(t.data.rows),cols:this.data.cols.invert(t.data.cols)},a=new l({cells:t.data.cells,action:r.action});a.composeWithMutations(o,function(e,r){try{return n.data.cells.get(r).invert(e)}catch(e){throw new Error(e.message+": "+t.getAttributes().id+", "+r)}});var s=t.data.rows.isEmpty(),u=t.data.cols.isEmpty();return s&&u||this.data.cells.forEach(function(e){var r=c.parsePosition(e),o=r.row,i=r.col;null!==t.data.rows.composePosition(o)&&null!==t.data.cols.composePosition(i)||a.set(e,n.data.cells.get(e))}),o.cells=a,r.set({data:o})}},{key:"transform",value:function(t,n){var r=this,o=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"transform",this).call(this,t,n);if("number"==typeof this.data||"number"==typeof t.data)return o;var a={rows:o.data.rows.transform(this.data.rows,!n),cols:o.data.cols.transform(this.data.cols,!n)},s={rows:this.data.rows.transform(t.data.rows,n),cols:this.data.cols.transform(t.data.cols,n)},u=new l({cells:t.data.cells,action:o.action});u.composeWithMutations(a);var f=t.data.rows.isEmpty(),p=t.data.cols.isEmpty();return this.data.cells.forEach(function(t){var e=c.parsePosition(t),o=e.row,i=e.col;if(f||(o=s.rows.composePosition(o)),p||(i=s.cols.composePosition(i)),null!==o&&null!==i){var a=c.stringifyPosition(o,i);u.set(a,r.data.cells.get(t).transform(u.get(a),n))}}),s.cells=u,o.set({data:s})}}],[{key:"unpack",value:function(t){if(Array.isArray(t[1])){var n=r(t[1],3),o=n[0],a=n[1],s=n[2];t[1]={rows:a?u.unpack(a):null,cols:s?u.unpack(s):null,cells:o}}return i(e.__proto__||Object.getPrototypeOf(e),"unpack",this).call(this,t)}}]),e}();f.packId=3,t.exports=f},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(569),i=n(400),a=n(272),s=n(252),u=function(){function t(e){var n=e.cells,r=e.action;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cells={},"function"==typeof n.name)for(var o in this.proto=n.proto,n.cells)n.cells.hasOwnProperty(o)&&(this.cells[o]=n.cells[o]);else this.proto=n;this.action=r}return r(t,[{key:"name",value:function(){return"CellManager"}},{key:"keys",value:function(){var t=[];return this.forEach(function(e){t.push(e)}),t}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0;return(r=void 0===this.cells[t]?this.proto[t]:this.cells[t])?(e&&Array.isArray(r)&&(r=this.cells[t]=o.operatorUnpacker(r)),r.action&&r.action!==this.action&&(r=this.cells[t]=r.set({action:this.action}))):r=n?null:new o({action:this.action,data:"insert"===this.action?new i:1}),r}},{key:"forEach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in this.cells)!this.cells.hasOwnProperty(n)||e&&null===this.cells[n]||t(n);for(var r in this.proto)this.proto.hasOwnProperty(r)&&!this.cells.hasOwnProperty(r)&&null!==this.proto[r]&&t(r)}},{key:"set",value:function(t,e){this.cells[t]=e||null}},{key:"composeWithMutations",value:function(t,e){var n=this,r=t.rows,o=t.cols,i=r.isEmpty(),s=o.isEmpty();if(!i||!s||e){var u={},c={row:{},col:{}};this.forEach(function(t){var l=a.parsePosition(t),f=l.row,p=l.col;if(i||(void 0===c.row[f]&&(c.row[f]=r.composePosition(f)),f=c.row[f]),s||(void 0===c.col[p]&&(c.col[p]=o.composePosition(p)),p=c.col[p]),u[t]||(u[t]=null),null!==f&&null!==p){var h=a.stringifyPosition(f,p),d=n.get(t,!0,!e);u[h]=e?e(d,h):d}},!1),this.cells=u}}},{key:"pack",value:function(){var t=this,e={};return this.forEach(function(n){var r=t.get(n,!1);Array.isArray(r)?e[n]=r:(r.attributes||r.data.isEmpty&&!r.data.isEmpty())&&(e[n]=r.pack())}),s(e)?0:e}}]),t}();t.exports=u},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var i=n(401),a=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"name",value:function(){return"TextOperator"}},{key:"getEmbedObject",value:function(){if("object"!=typeof this.data)throw new Error("data is not an embed object");return this.data}},{key:"setData",value:function(t){switch(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t),this.action){case"insert":if("string"!=typeof this.data&&"object"!=typeof this.data)throw new Error('data should be a string or an object for "insert" action, got '+this.data);break;case"retain":if("number"!=typeof this.data)throw new Error('data should be a number for "'+this.action+'" action, got '+this.data)}return this}}]),e}();a.packId=2,t.exports=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(555),a=n(397),s=n(74),u=n(553),c=n(199),l=a("collab:collaborator"),f=function(t){function e(e){var n=t.call(this)||this;return n.users=[],n.clients={},n.clientId=e.clientId,n.onUserSelect=c.debounce(n._onUserSelect.bind(n),1e3,!0),n.puller=e.puller,n.editor=e.editor,n.puller.on(c.Event.COLLABORATOR,function(t){l("get data from puller",t),t.forEach(function(t){var e=t.type,r=t.data;e===c.Event.LEAVE?n.onLeave(r):e===c.Event.ENTER?n.onEnter(r):e===c.Event.SELECT&&n.onSelect(r)})}),n.editor&&(n.url=n.assembleUrl(e.url,e.clientId),n.editor.on("userSelect",n.onUserSelect)),n}return r(e,t),e.prototype.destroy=function(){this.editor.off("userSelect",this.onUserSelect)},e.prototype.findUser=function(t){return this.users.find(function(e){return t===e.user.id})},e.prototype.onEnter=function(t){if(l("user enter",t),this.clients[t.clientId])l("client",t.clientId,"already here");else{this.clients[t.clientId]={user:t.user};var e=this.findUser(t.user.id);if(e)e.clients.push({clientId:t.clientId});else{var n={clients:[{clientId:t.clientId}],user:t.user};this.users.push(n),this.emit(c.Event.ENTER,{user:t.user}),this.editor&&this.editor.onUserEnter&&this.editor.onUserEnter({collaborators:[],enterUsers:[o({},t.user,{color:this.getColor(t.user.id)})]})}}},e.prototype.onLeave=function(t){l("user leave",t);var e=this.clients[t.clientId];if(e){var n=e.user.id;delete this.clients[t.clientId];var r=this.findUser(n);if(r){var i=r.clients.findIndex(function(e){return e.clientId===t.clientId});if(i>-1&&r.clients.splice(i,1),0===r.clients.length){l("clientId",t.clientId,"onUserLeave",e);var a=this.users.findIndex(function(t){return t.user.id===r.user.id});a>-1&&this.users.splice(a,1),this.emit(c.Event.LEAVE,{user:r.user})}(0===r.clients.length||1===r.clients.length&&r.user.isMe)&&this.editor&&this.editor.onUserLeave&&this.editor.onUserLeave({collaborators:[],leaveUsers:[o({},r.user,{color:this.getColor(r.user.id)})]})}else l("no such user",n)}else l("no such client",t.clientId)},e.prototype.onSelect=function(t){var e=t.clientId,n=t.user,r=t.select;if(l("on user select",e,n,r),this.clients[e]){if(e!==this.clientId){this.clients[e].select=r;var i=this.findUser(n.id);if(i){var a=i.clients.find(function(t){return t.clientId===e});a&&(a.select=r);var s=o({userInfo:o({},i.user,{color:this.getColor(i.user.id)})},r);this.editor&&this.editor.onUserSelect&&this.editor.onUserSelect(s)}}}else l("no such client",e)},e.prototype.getColor=function(t){return c.colors[t%c.colors.length]},e.prototype.assembleUrl=function(t,e){var n=t.split("?"),r=n[0],o=n[1],i=u.parse(o);return i.clientId=e,r+"?"+u.stringify(i)},e.prototype._onUserSelect=function(t){var e=this;return i.default({data:t,method:"post",url:this.url}).catch(function(t){e.emit(c.Event.WARNING,t)})},e.events={ENTER:"enter",LEAVE:"leave",SELECT:"select"},e}(s.EventEmitter);e.Collaborator=f}])});